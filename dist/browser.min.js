(t=>{var e={};function r(n){var i;return(e[n]||(i=e[n]={i:n,l:!1,exports:{}},t[n].call(i.exports,i,i.exports,r),i.l=!0,i)).exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)})([function(t,e,r){(function(e){t.exports=function t(e,r,n){function i(s,o){if(!r[s]){var a;if(!e[s])throw(a=new Error("Cannot find module '"+s+"'")).code="MODULE_NOT_FOUND",a;a=r[s]={exports:{}},e[s][0].call(a.exports,(function(t){return i(e[s][1][t]||t)}),a,a.exports,t,e,r,n)}return r[s].exports}for(var s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){(function(){var e,n,i,s,o={}.hasOwnProperty;function a(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=(()=>{var t,e=[];for(t=0;t<4;++t)e.push([]);return e})(),this.INV_SUB_MIX=(()=>{var t,e=[];for(t=0;t<4;++t)e.push([]);return e})(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}n=t("./algbase").BlockCipher,s=t("./util").scrub_vec,a.prototype.init=function(){for(var t,e,r,n,i,s,o=(()=>{var t,e=[];for(c=t=0;t<256;c=++t)e.push(c<128?c<<1:c<<1^283);return e})(),a=0,u=0,c=s=0;s<256;c=++s)this.SBOX[a]=t=(t=u^u<<1^u<<2^u<<3^u<<4)>>>8^255&t^99,i=o[n=o[r=o[this.INV_SBOX[t]=a]]],e=257*o[t]^16843008*t,this.SUB_MIX[0][a]=e<<24|e>>>8,this.SUB_MIX[1][a]=e<<16|e>>>16,this.SUB_MIX[2][a]=e<<8|e>>>24,this.SUB_MIX[3][a]=e,this.INV_SUB_MIX[0][t]=(e=16843009*i^65537*n^257*r^16843008*a)<<24|e>>>8,this.INV_SUB_MIX[1][t]=e<<16|e>>>16,this.INV_SUB_MIX[2][t]=e<<8|e>>>24,this.INV_SUB_MIX[3][t]=e,0===a?a=u=1:(a=r^o[o[o[i^r]]],u^=o[o[u]]);return!0},i=new a,e=(()=>{var t,e=u,r=n;for(t in r)o.call(r,t)&&(e[t]=r[t]);function a(){this.constructor=e}function u(t){this._key=t.clone(),this._doReset()}return a.prototype=r.prototype,e.prototype=new a,e.__super__=r.prototype,u.prototype.blockSize=u.blockSize=16,u.prototype.keySize=u.keySize=32,u.prototype.ivSize=u.ivSize=u.blockSize,u.prototype._doReset=function(){var t,e,r,n,s,o,a=this._key.words,u=this._key.sigBytes/4;for(this._nRounds=6+u,r=4*(this._nRounds+1),this._keySchedule=[],e=s=0;0<=r?s<r:r<s;e=0<=r?++s:--s)this._keySchedule[e]=e<u?a[e]:(n=this._keySchedule[e-1],e%u==0?(n=i.SBOX[(n=n<<8|n>>>24)>>>24]<<24|i.SBOX[n>>>16&255]<<16|i.SBOX[n>>>8&255]<<8|i.SBOX[255&n],n^=i.RCON[e/u|0]<<24):6<u&&e%u==4&&(n=i.SBOX[n>>>24]<<24|i.SBOX[n>>>16&255]<<16|i.SBOX[n>>>8&255]<<8|i.SBOX[255&n]),this._keySchedule[e-u]^n);for(this._invKeySchedule=[],t=o=0;0<=r?o<r:r<o;t=0<=r?++o:--o)n=this._keySchedule[(e=r-t)-(t%4?0:4)],this._invKeySchedule[t]=t<4||e<=4?n:i.INV_SUB_MIX[0][i.SBOX[n>>>24]]^i.INV_SUB_MIX[1][i.SBOX[n>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[n>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[255&n]];return!0},u.prototype.encryptBlock=function(t,e){return this._doCryptBlock(t,e=null==e?0:e,this._keySchedule,i.SUB_MIX,i.SBOX)},u.prototype.decryptBlock=function(t,e){var r=[t[(e=null==e?0:e)+3],t[e+1]];return t[e+1]=r[0],t[e+3]=r[1],this._doCryptBlock(t,e,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX),r=[t[e+3],t[e+1]],t[e+1]=r[0],t[e+3]=r[1],r},u.prototype.scrub=function(){return s(this._keySchedule),s(this._invKeySchedule),this._key.scrub()},u.prototype._doCryptBlock=function(t,e,r,n,i){for(var s,o,a,u,c,h=t[e]^r[0],f=t[e+1]^r[1],l=t[e+2]^r[2],p=t[e+3]^r[3],_=4,d=(c=1,this._nRounds);1<=d?c<d:d<c;1<=d?++c:--c)s=n[0][h>>>24]^n[1][f>>>16&255]^n[2][l>>>8&255]^n[3][255&p]^r[_++],o=n[0][f>>>24]^n[1][l>>>16&255]^n[2][p>>>8&255]^n[3][255&h]^r[_++],a=n[0][l>>>24]^n[1][p>>>16&255]^n[2][h>>>8&255]^n[3][255&f]^r[_++],u=n[0][p>>>24]^n[1][h>>>16&255]^n[2][f>>>8&255]^n[3][255&l]^r[_++],h=s,f=o,l=a,p=u;return s=(i[h>>>24]<<24|i[f>>>16&255]<<16|i[l>>>8&255]<<8|i[255&p])^r[_++],o=(i[f>>>24]<<24|i[l>>>16&255]<<16|i[p>>>8&255]<<8|i[255&h])^r[_++],a=(i[l>>>24]<<24|i[p>>>16&255]<<16|i[h>>>8&255]<<8|i[255&f])^r[_++],u=(i[p>>>24]<<24|i[h>>>16&255]<<16|i[f>>>8&255]<<8|i[255&l])^r[_++],t[e]=s,t[e+1]=o,t[e+2]=a,t[e+3]=u},u})(),r.AES=e}).call(this)},{"./algbase":2,"./util":25}],2:[function(t,e,r){(function(){var e,n,i,s,o,a,u={}.hasOwnProperty;function c(){this.reset()}function h(t){}function f(){}o=t("./wordarray").WordArray,a=t("./util"),c.prototype._minBufferSize=0,c.prototype.reset=function(){return this._data=new o,this._nDataBytes=0},c.prototype._append=function(t){return this._data.concat(t),this._nDataBytes+=t.sigBytes},c.prototype._process=function(t){var e,r,n,i,s=this._data,a=s.words,u=s.sigBytes,c=u/(4*this.blockSize),h=(c=t?Math.ceil(c):Math.max((0|c)-this._minBufferSize,0))*this.blockSize;t=Math.min(4*h,u);if(h){for(e=n=0,i=this.blockSize;0<i?n<h:h<n;e=n+=i)this._doProcessBlock(a,e);r=a.splice(0,h),s.sigBytes-=t}return new o(r,t)},c.prototype.copy_to=function(t){return t._data=this._data.clone(),t._nDataBytes=this._nDataBytes},c.prototype.clone=function(){var t=new c;return this.copy_to(t),t},n=c,i=(()=>{var t,e=s,r=n;for(t in r)u.call(r,t)&&(e[t]=r[t]);function i(){this.constructor=e}function s(){s.__super__.constructor.call(this)}return i.prototype=r.prototype,e.prototype=new i,e.__super__=r.prototype,s.prototype.reset=function(){return s.__super__.reset.call(this),this._doReset(),this},s.prototype.update=function(t){return this._append(t),this._process(),this},s.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},s.prototype.bufhash=function(t){t=o.from_buffer(t);var e=this.finalize(t),r=e.to_buffer();return t.scrub(),e.scrub(),r},s})(),r.BlockCipher=(h.prototype.encryptBlock=function(t,e){},e=h),f.prototype.encryptBlock=function(t,e){var r,n;return null==e&&(e=0),n=this.get_pad(),r=Math.min(t.words.length-e,this.bsiw),t.xor(n,{dst_offset:e,n_words:r}),n.scrub(),this.bsiw},f.prototype.encrypt=function(t){for(var e,r=e=0,n=t.words.length,i=this.bsiw;0<i?e<n:n<e;r=e+=i)this.encryptBlock(t,r);return t},f.prototype.bulk_encrypt=function(t,e){var r,n=t.input,i={update:function(t,e){for(var i,s=[],o=i=t,a=r.bsiw;0<a?i<e:e<i;o=i+=a)s.push(r.encryptBlock(n,o));return s},finalize:function(){return n},default_n:1024*(r=this).bsiw};return a.bulk(n.sigBytes,i,{progress_hook:t.progress_hook,cb:e,what:t.what})},s=f,r.BlockCipher=e,r.Hasher=i,r.BufferedBlockAlgorithm=n,r.StreamCipher=s}).call(this)},{"./util":25,"./wordarray":26}],3:[function(t,e,r){(function(){function e(t,e){for(var r in e)h.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}var n,i,s,o,a,u,c,h={}.hasOwnProperty;function f(){this.hasherBlockSize=this.hashers[0].hasherBlockSize,this.hasherBlockSizeBytes=4*this.hasherBlockSize,this.reset()}function l(t,e){var r,n,a,u;null==e&&(e=[o,s]),u=t.split(e.length),this.hashers=(()=>{var t,s,o=[];for(r=t=0,s=e.length;t<s;r=++t)n=e[r],a=u[r],n=new i(a,n),a.scrub(),o.push(n);return o})(),l.__super__.constructor.call(this)}function p(t,e){var r;null==e&&(e=[o,s]),this.hashers=(()=>{for(var n=[],s=0,o=e.length;s<o;s++)r=e[s],n.push(new i(t,r));return n})(),p.__super__.constructor.call(this)}c=t("./hmac"),i=c.HMAC,u=c.bulk_sign,o=t("./sha512").SHA512,s=t("./keccak").KECCAK,a=t("./wordarray").WordArray,f.prototype.reset=function(){for(var t=this.hashers,e=0,r=t.length;e<r;e++)t[e].reset();return this},f.prototype.update=function(t){for(var e=this.hashers,r=0,n=e.length;r<n;r++)e[r].update(t);return this},f.prototype.scrub=function(){for(var t=this.hashers,e=0,r=t.length;e<r;e++)t[e].scrub();return this},f.prototype.finalize=function(t){for(var e,r=function(){for(var r=this.hashers,n=[],i=0,s=r.length;i<s;i++)e=r[i],n.push(e.finalize(t));return n}.call(this),n=r[0],i=r.slice(1),s=0,o=i.length;s<o;s++)e=i[s],this._coalesce(n,e),e.scrub();return n},e(l,c=f),l.get_output_size=function(){return o.output_size+s.output_size},l.prototype._coalesce=function(t,e){return t.concat(e)},l.prototype.get_output_size=function(){for(var t=0,e=this.hashers,r=0,n=e.length;r<n;r++)t+=e[r].get_output_size();return t},l.sign=function(t){var e=t.key;t=t.input;return new l(e).finalize(t)},l.bulk_sign=function(t,e){return t.klass=l,t.what="HMAC-SHA512-SHA3",u(t,e)},n=l,e(p,c),p.prototype.reset=function(){var t,e,r,n;for(p.__super__.reset.call(this),t=e=0,r=(n=this.hashers).length;e<r;t=++e)n[t].update(new a([t]));return this},p.get_output_size=function(){return Math.max(o.output_size,s.output_size)},p.prototype._coalesce=function(t,e){return t.xor(e,{})},p.prototype.get_output_size=function(){var t;return Math.max.apply(Math,function(){for(var e=this.hashers,r=[],n=0,i=e.length;n<i;n++)t=e[n],r.push(t.get_output_size());return r}.call(this))},p.sign=function(t){var e=t.key;t=t.input;return new p(e).finalize(t)},p.bulk_sign=function(t,e){return t.klass=p,t.what="HMAC-SHA512-XOR-SHA3",u(t,e)},c=p,r.Concat=n,r.XOR=c}).call(this)},{"./hmac":8,"./keccak":9,"./sha512":23,"./wordarray":26}],4:[function(t,e,r){(function(){var e,n,i,s,o,a,u,c={}.hasOwnProperty;function h(t){var e=t.value,r=t.len;this._value=null!=e?e.clone():(null==r&&(r=2),new s((()=>{var t,e=[];for(t=0;0<=r?t<r:r<t;0<=r?++t:--t)e.push(0);return e})()))}u=t("iced-runtime"),s=t("./wordarray").WordArray,i=t("./algbase").StreamCipher,h.prototype.WORD_MAX=4294967295,h.prototype.inc=function(){for(var t=!0,e=this._value.words.length-1;t&&0<=e;)++this._value.words[e]>h.WORD_MAX?this._value.words[e]=0:t=!1,e--;return this},h.prototype.inc_le=function(){for(var t=!0,e=0;t&&e<this._value.words.length;)++this._value.words[e]>h.WORD_MAX?this._value.words[e]=0:t=!1,e++;return this},h.prototype.get=function(){return this._value},h.prototype.copy=function(){return this._value.clone()},n=h,e=(()=>{var t,e=o,r=i;for(t in r)c.call(r,t)&&(e[t]=r[t]);function s(){this.constructor=e}function o(t){if(this.block_cipher=t.block_cipher,this.iv=t.iv,o.__super__.constructor.call(this),this.bsiw=this.block_cipher.blockSize/4,this.iv.sigBytes!==this.block_cipher.blockSize)throw new Error("IV is wrong length ("+this.iv.sigBytes+")");this.ctr=new n({value:this.iv})}return s.prototype=r.prototype,e.prototype=new s,e.__super__=r.prototype,o.prototype.scrub=function(){return this.block_cipher.scrub()},o.prototype.get_pad=function(){var t=this.ctr.copy();return this.ctr.inc(),this.block_cipher.encryptBlock(t.words),t},o})(),a=function(t){var r=t.block_cipher,n=t.input;t=(r=new e({block_cipher:r,iv:t.iv})).encrypt(n);return r.scrub(),t},o=function(t,r){var n,i=u.findDeferral(arguments),s=t.block_cipher,o=t.input,a=t.progress_hook,c=t.what;s=new e({block_cipher:s,iv:t.iv}),t=function(){return r(n)};t=new u.Deferrals(t,{parent:i,filename:"/Users/max/src/keybase/triplesec/src/ctr.iced"}),s.bulk_encrypt({input:o,progress_hook:a,what:c},t.defer({assign_fn:function(){return n=arguments[0]},lineno:121})),t._fulfill()},r.Counter=n,r.Cipher=e,r.encrypt=a,r.bulk_encrypt=o}).call(this)},{"./algbase":2,"./wordarray":26,"iced-runtime":33}],5:[function(t,e,r){(function(){var e={}.hasOwnProperty,n=t("iced-runtime"),i=t("./wordarray").WordArray,s=(t("./salsa20"),t("./aes").AES),o=t("./twofish").TwoFish,a=(t("./ctr"),t("./combine").Concat),u=(t("./sha512").SHA512,t("./salsa20").Salsa20),c=(p=t("./enc")).Base,h=p.V,f=t("iced-error").make_esc,l=(()=>{var t,r=_,l=c;for(t in l)e.call(l,t)&&(r[t]=l[t]);function p(){this.constructor=r}function _(t){var e=t.key;t=t.enc;_.__super__.constructor.call(this,{key:e}),null!=t&&(this.key=t.key,this.derived_keys=t.derived_keys)}return p.prototype=l.prototype,r.prototype=new p,r.__super__=l.prototype,_.prototype.read_header=function(t){return t(null==(t=this.ct.unshift(2))?new Error("Ciphertext underrun in header"):null==(this.version=h[t.words[1]])?new Error("bad header; couldn't find a good version (got "+t.words[1]+")"):t.words[0]!==this.version.header[0]?new Error("Bad header: unrecognized magic value"):null)},_.prototype.verify_sig=function(t,e){var r,i,s,o,u=n.findDeferral(arguments),c=function(){return e(i)};null==(s=(o=this).ct.unshift(a.get_output_size()/4))?c(i=new Error("Ciphertext underrun in signature")):(u=new n.Deferrals((function(){return c(i=null!=i?i:s.equal(r)?null:new Error("Signature mismatch or bad decryption key"))}),{parent:u,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.verify_sig"}),o.sign({input:o.ct,key:t,salt:o.salt},u.defer({assign_fn:function(){return i=arguments[0],r=arguments[1]},lineno:63})),u._fulfill())},_.prototype.unshift_iv=function(t,e,r){return r(null!=(r=this.ct.unshift(t/4))?null:new Error("Ciphertext underrun in "+e),r)},_.prototype.read_salt=function(t){return t(null==(this.salt=this.ct.unshift(this.version.salt_size/4))?new Error("Ciphertext underrrun in read_salt"):null)},_.prototype.generate_keys=function(t,e){var r,i,s,o=n.findDeferral(arguments),a=(t=t.progress_hook,s=this,function(){return e(r,i)});a=new n.Deferrals(a,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.generate_keys"}),s.kdf({salt:s.salt,progress_hook:t},a.defer({assign_fn:function(){return r=arguments[0],i=arguments[1]},lineno:114})),a._fulfill()},_.prototype.run=function(t,e){var r,a,c,h,l=n.findDeferral(arguments),p=t.data,_=t.progress_hook,d=f(e,"Decryptor::run");this.ct=i.from_buffer(p),h=t=this,p=function(){c=new n.Deferrals((function(){c=new n.Deferrals((function(){c=new n.Deferrals((function(){c=new n.Deferrals((function(){c=new n.Deferrals((function(){!function(t){if(!h.version.use_twofish)return t();!function(t){c=new n.Deferrals(t,{parent:l,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),h.unshift_iv(o.ivSize,"2fish",d(c.defer({assign_fn:function(){return r=arguments[0]},lineno:148}))),c._fulfill()}((function(){!function(t){c=new n.Deferrals(t,{parent:l,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),h.run_twofish({iv:r,input:h.ct,key:h.keys.twofish,progress_hook:_},d(c.defer({assign_fn:function(){return c.ret=arguments[0]},lineno:149}))),c._fulfill()}(t)}))}((function(){c=new n.Deferrals((function(){c=new n.Deferrals((function(){return e(null,a.to_buffer())}),{parent:l,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),h.run_salsa20({iv:r,input:h.ct,key:h.keys.salsa20,output_iv:!1,progress_hook:_},d(c.defer({assign_fn:function(){return a=arguments[0]},lineno:151}))),c._fulfill()}),{parent:l,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),h.unshift_iv(u.ivSize,"Salsa",d(c.defer({assign_fn:function(){return r=arguments[0]},lineno:150}))),c._fulfill()}))}),{parent:l,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),h.run_aes({iv:r,input:h.ct,key:h.keys.aes,progress_hook:_},d(c.defer({assign_fn:function(){return c.ret=arguments[0]},lineno:146}))),c._fulfill()}),{parent:l,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),h.unshift_iv(s.ivSize,"AES",d(c.defer({assign_fn:function(){return r=arguments[0]},lineno:145}))),c._fulfill()}),{parent:l,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),h.verify_sig(h.keys.hmac,d(c.defer({lineno:144}))),c._fulfill()}),{parent:l,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),h.generate_keys({progress_hook:_},d(c.defer({assign_fn:function(t){return function(){return t.keys=arguments[0]}}(h),lineno:143}))),c._fulfill()}),{parent:l,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),h.read_salt(d(c.defer({lineno:142}))),c._fulfill()};c=new n.Deferrals(p,{parent:l,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.read_header(d(c.defer({lineno:141}))),c._fulfill()},_.prototype.clone=function(){var t=new _({key:null!=(t=this.key)?t.to_buffer():void 0,rng:this.rng,version:this.version});return t.derived_keys=this.clone_derived_keys(),t},_})(),p=function(t,e){var r,i,s=n.findDeferral(arguments),o=t.key,a=t.data,u=(t=t.progress_hook,new l({key:o}));o=function(){return u.scrub(),e(r,i)};o=new n.Deferrals(o,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/dec.iced"}),u.run({data:a,progress_hook:t},o.defer({assign_fn:function(){return r=arguments[0],i=arguments[1]},lineno:181})),o._fulfill()};r.Decryptor=l,r.decrypt=p}).call(this)},{"./aes":1,"./combine":3,"./ctr":4,"./enc":7,"./salsa20":15,"./sha512":23,"./twofish":24,"./wordarray":26,"iced-error":29,"iced-runtime":33}],6:[function(t,e,r){(function(e){(function(){var n,i,s,o,a,u;function c(t,e,r){this.hmac=r||a.sign,this.security_strength=256,t=this.check_entropy(t),e=e||new o([]),this._instantiate(t,e)}function h(t,e){this.gen_seed=t,this.hmac=e,this.drbg=null,this.lock=new s}u=t("iced-runtime"),a=t("./hmac"),o=t("./wordarray").WordArray,s=t("iced-lock").Lock,c.prototype.check_entropy=function(t,e){if(8*t.sigBytes*2<((e=null!=e&&e)?2:3)*this.security_strength)throw new Error("entropy must be at least "+1.5*this.security_strength+" bits.");return t},c.prototype._hmac=function(t,e){return this.hmac({key:t,input:e})},c.prototype._update=function(t){var e,r=new o([0],1);return null!=t&&(r=r.concat(t)),e=this.V.clone().concat(r),this.K=this._hmac(this.K,e),e.scrub(),r.scrub(),this.V=this._hmac(this.K,this.V),null!=t&&(e=this.V.clone().concat(new o([1<<24],1)).concat(t),this.K=this._hmac(this.K,e),e.scrub(),this.V=this._hmac(this.K,this.V)),null!=t?t.scrub():void 0},c.prototype._instantiate=function(t,r){return r=t.concat(r),this.K=o.from_buffer(e.from((()=>{var t,e=[];for(t=0;t<64;++t)e.push(0);return e})())),this.V=o.from_buffer(e.from((()=>{var t,e=[];for(t=0;t<64;++t)e.push(1);return e})())),this._update(r),t.scrub(),this.reseed_counter=1},c.prototype.reseed=function(t){return this._update(this.check_entropy(t,!0)),this.reseed_counter=1},c.prototype.generate=function(t){var e,r;if(7500<8*t)throw new Error("generate cannot generate > 7500 bits in 1 call.");if(1e4<=this.reseed_counter)throw new Error("Need a reseed!");for(e=[];0===e.length||e.length*e[0].length*4<t;)this.V=this._hmac(this.K,this.V),e.push(this.V.words);return this._update(),this.reseed_counter+=1,new o((r=[]).concat.apply(r,e)).truncate(t)},i=c,h.prototype.generate=function(t,e){var r,n,s,o,a,c=u.findDeferral(arguments),h=(o=a=this,function(){var a;a=function(){var i;i=function(){return r=o.drbg.generate(t),o.lock.release(),e(r)},100<o.drbg.reseed_counter?(s=new u.Deferrals((function(){return i(o.drbg.reseed(n))}),{parent:c,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),o.gen_seed(256,s.defer({assign_fn:function(){return n=arguments[0]},lineno:150})),s._fulfill()):i()},null==o.drbg?(s=new u.Deferrals((function(){return a(o.drbg=new i(n,null,o.hmac))}),{parent:c,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),o.gen_seed(256,s.defer({assign_fn:function(){return n=arguments[0]},lineno:147})),s._fulfill()):a()});s=new u.Deferrals(h,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),a.lock.acquire(s.defer({lineno:145})),s._fulfill()},n=h,r.DRBG=i,r.ADRBG=n}).call(this)}).call(this,t("buffer").Buffer)},{"./hmac":8,"./wordarray":26,buffer:27,"iced-lock":30,"iced-runtime":33}],7:[function(t,e,r){(function(){var e,n,i,s,o,a,u,c,h,f,l,p,_,d,y,g,w,m,b,v,k={}.hasOwnProperty;function B(t){var e=t.key;t=t.version;if(this.version=f[null!=t?t:4],null==this.version)throw new Error("unknown version: "+t);this.set_key(e),this.derived_keys={}}y=t("iced-runtime"),l=t("./wordarray").WordArray,m=t("./salsa20"),e=t("./aes").AES,h=t("./twofish").TwoFish,_=t("./ctr"),p=(v=t("./combine")).XOR,i=v.Concat,v=t("./sha512").SHA512,u=t("./sha3std").SHA3STD,a=t("./keccak").KECCAK,d=t("./pbkdf2").PBKDF2,c=t("./scrypt").Scrypt,b=t("./util"),w=t("./prng"),g=t("iced-error").make_esc,o=t("./hmac").HMAC_SHA256,f={1:{header:[479516638,1],salt_size:8,xsalsa20_rev:!0,kdf:{klass:d,opts:{c:1024,klass:p}},use_twofish:!0,hmac_hashes:[v,a],hmac_key_size:96,version:1},2:{header:[479516638,2],salt_size:16,xsalsa20_rev:!0,kdf:{klass:c,opts:{c:64,klass:p,N:12,r:8,p:1}},use_twofish:!0,hmac_hashes:[v,a],hmac_key_size:96,version:2},3:{header:[479516638,3],salt_size:16,xsalsa20_rev:!1,kdf:{klass:c,opts:{c:1,klass:o,N:15,r:8,p:1}},use_twofish:!0,hmac_hashes:[v,a],hmac_key_size:96,version:3},4:{header:[479516638,4],salt_size:16,xsalsa20_rev:!1,kdf:{klass:c,opts:{c:1,klass:o,N:15,r:8,p:1}},hmac_key_size:96,use_twofish:!1,hmac_hashes:[v,u],version:4}},r.CURRENT_VERSION=4,B.prototype.kdf=function(t,r){var n,i,s,o,a,u,c,f,p,_,d,g,w,b,v=y.findDeferral(arguments),k=t.salt,B=t.extra_keymaterial,S=t.progress_hook,A=(b=t=this,function(){d=k.to_hex(),u=b.key.clone(),w=new y.Deferrals((function(){var t=function(){return r(null,c)};if(null==(c=b.derived_keys[d])){for(a in b._kdf=new b.version.kdf.klass(b.version.kdf.opts),f={hmac:b.version.hmac_key_size,aes:e.keySize,salsa20:m.Salsa20.keySize},b.version.use_twofish&&(f.twofish=h.keySize),p=b.version.use_twofish?["hmac","aes","twofish","salsa20"]:["hmac","aes","salsa20"],i=B||0,f)i+=g=f[a];n={dkLen:i,key:u,progress_hook:S,salt:k},w=new y.Deferrals((function(){var e,r;for(c={},e=o=0,r=p.length;e<r;e++)a=p[e],g=f[a],s=o+g/4,c[a]=new l(_.words.slice(o,s)),o=s;return c.extra=new l(_.words.slice(s)).to_buffer(),t(b.derived_keys[d]=c)}),{parent:v,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),b._kdf.run(n,w.defer({assign_fn:function(){return _=arguments[0]},lineno:152})),w._fulfill()}else t()}),{parent:v,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),b._check_scrubbed(u,"KDF",r,w.defer({lineno:129})),w._fulfill()});w=new y.Deferrals(A,{parent:v,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),t._check_scrubbed(t.key,"in KDF",r,w.defer({lineno:121})),w._fulfill()},B.prototype.set_key=function(t){return null==t?this.scrub():(t=l.from_buffer(t),this.key&&this.key.equal(t)?void 0:(this.scrub(),this.key=t))},B.prototype._check_scrubbed=function(t,e,r,n){return null==t||t.is_scrubbed()?r(new Error(e+": Failed due to scrubbed key!"),null):n()},B.prototype.sign=function(t,e){var r,n,s,o,a=y.findDeferral(arguments),u=t.input,c=t.key,h=t.salt,f=t.progress_hook,p=(o=t=this,function(){u=new l(o.version.header).concat(h).concat(u),r=o.version.hmac_hashes,s=new y.Deferrals((function(){return u.scrub(),e(null,n)}),{parent:a,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.sign"}),i.bulk_sign({key:c,input:u,progress_hook:f,combine_klasses:r},s.defer({assign_fn:function(){return n=arguments[0]},lineno:213})),s._fulfill()});s=new y.Deferrals(p,{parent:a,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.sign"}),t._check_scrubbed(c,"HMAC",e,s.defer({lineno:210})),s._fulfill()},B.prototype.run_salsa20=function(t,e){var r,n,i,s,o=y.findDeferral(arguments),a=t.input,u=t.key,c=t.iv,h=t.output_iv,f=t.progress_hook,l=(s=t=this,function(){r={input:a,progress_hook:f,key:u,iv:c},s.version.xsalsa20_rev&&(r.key=u.clone().endian_reverse(),r.iv=c.clone().endian_reverse()),i=new y.Deferrals((function(){return h&&(n=c.clone().concat(n)),s.version.xsalsa20_rev&&(r.key.scrub(),r.iv.scrub()),e(null,n)}),{parent:o,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_salsa20"}),m.bulk_encrypt(r,i.defer({assign_fn:function(){return n=arguments[0]},lineno:241})),i._fulfill()});i=new y.Deferrals(l,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_salsa20"}),t._check_scrubbed(u,"Salsa20",e,i.defer({lineno:229})),i._fulfill()},B.prototype.run_twofish=function(t,e){var r,n,i,s=y.findDeferral(arguments),o=t.input,a=t.key,u=t.iv,c=t.progress_hook,f=(t=this,function(){r=new h(a),i=new y.Deferrals((function(){return r.scrub(),e(null,u.clone().concat(n))}),{parent:s,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_twofish"}),_.bulk_encrypt({block_cipher:r,iv:u,input:o,progress_hook:c,what:"twofish"},i.defer({assign_fn:function(){return n=arguments[0]},lineno:266})),i._fulfill()});i=new y.Deferrals(f,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_twofish"}),t._check_scrubbed(a,"TwoFish",e,i.defer({lineno:264})),i._fulfill()},B.prototype.run_aes=function(t,r){var n,i,s,o=y.findDeferral(arguments),a=t.input,u=t.key,c=t.iv,h=t.progress_hook,f=(t=this,function(){n=new e(u),s=new y.Deferrals((function(){return n.scrub(),r(null,c.clone().concat(i))}),{parent:o,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_aes"}),_.bulk_encrypt({block_cipher:n,iv:c,input:a,progress_hook:h,what:"aes"},s.defer({assign_fn:function(){return i=arguments[0]},lineno:283})),s._fulfill()});s=new y.Deferrals(f,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_aes"}),t._check_scrubbed(u,"AES",r,s.defer({lineno:281})),s._fulfill()},B.prototype.scrub=function(){var t,e,r,n,i;if(null!=this.key&&this.key.scrub(),null!=this.derived_keys)for(n in i=this.derived_keys)for(t in r=i[n])e=r[t],"extra"!==t&&e.scrub();return this.derived_keys={},null!=this.salt&&this.salt.scrub(),this.salt=null,this.key=null},B.prototype.clone_derived_keys=function(){var t,e,r,n,i,s=null;if(null!=this.derived_keys)for(n in s={},i=this.derived_keys)for(t in r=i[n],s[n]={},r)e=r[t],s[n][t]="extra"===t?e:e.clone();return s},n=B,s=(()=>{var t,r=o,i=n;for(t in i)k.call(i,t)&&(r[t]=i[t]);function s(){this.constructor=r}function o(t){var e=t.key,r=t.rng;o.__super__.constructor.call(this,{key:e,version:t.version}),this.rng=r||w.generate}return s.prototype=i.prototype,r.prototype=new s,r.__super__=i.prototype,o.prototype.pick_random_ivs=function(t,r){var n,i,s,o,a,u=y.findDeferral(arguments),c=((t=(t.progress_hook,[])).push(["aes",e.ivSize]),this.version.use_twofish&&t.push(["twofish",h.ivSize]),t.push(["salsa20",m.Salsa20.ivSize]),n={},a=this,function(){return r(n)}),f=t,l=f.length,p=0,_=function(t){var e,r,c;if(!(p<l))return t();i=(e=f[p])[0],s=e[1],o=new y.Deferrals((function(){return y.trampoline((function(){return++p,_(t)}))}),{parent:u,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.pick_random_ivs"}),a.rng(s,o.defer({assign_fn:(r=n,c=i,function(){return r[c]=arguments[0]}),lineno:407})),o._fulfill()};_(c)},o.prototype.resalt=function(t,e){var r,n,i,s=y.findDeferral(arguments),o=t.salt,a=t.extra_keymaterial,u=t.progress_hook,c=null,h=(n=t=this,function(){var t,i;t=function(){return e(c,n.keys)},null==c?(r=new y.Deferrals(t,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.resalt"}),n.kdf({extra_keymaterial:a,progress_hook:u,salt:n.salt},r.defer({assign_fn:(i=n,function(){return c=arguments[0],i.keys=arguments[1]}),lineno:429})),r._fulfill()):t()});null!=o?h(o.length!==t.version.salt_size?c=new Error("Need a salt of exactly "+t.version.salt_size+" bytes (got "+o.length+")"):t.salt=l.alloc(o)):(r=new y.Deferrals(h,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.resalt"}),t.rng(t.version.salt_size,r.defer({assign_fn:(i=t,function(){return i.salt=arguments[0]}),lineno:423})),r._fulfill())},o.prototype.run=function(t,e){var r,n,i,s,o,a,u,c,h=y.findDeferral(arguments),f=t.data,p=t.salt,_=t.extra_keymaterial,d=t.progress_hook,w=g(e,"Encryptor::run"),m=(c=t=this,function(){u=new y.Deferrals((function(){s=l.from_buffer(f);u=new y.Deferrals((function(){!function(t){if(!c.version.use_twofish)return t();!function(t){u=new y.Deferrals(t,{parent:h,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),c.run_twofish({input:i,key:c.keys.twofish,progress_hook:d,iv:n.twofish},w(u.defer({assign_fn:function(){return i=arguments[0]},lineno:465}))),u._fulfill()}(t)}((function(){u=new y.Deferrals((function(){u=new y.Deferrals((function(){return o=new l(c.version.header).concat(c.salt).concat(a).concat(r).to_buffer(),b.scrub_buffer(f),e(null,o)}),{parent:h,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),c.sign({input:r,key:c.keys.hmac,progress_hook:d,salt:c.salt},w(u.defer({assign_fn:function(){return a=arguments[0]},lineno:467}))),u._fulfill()}),{parent:h,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),c.run_aes({input:i,key:c.keys.aes,progress_hook:d,iv:n.aes},w(u.defer({assign_fn:function(){return r=arguments[0]},lineno:466}))),u._fulfill()}))}),{parent:h,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),c.run_salsa20({input:s,key:c.keys.salsa20,progress_hook:d,iv:n.salsa20,output_iv:!0},w(u.defer({assign_fn:function(){return i=arguments[0]},lineno:463}))),u._fulfill()}),{parent:h,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),c.pick_random_ivs({progress_hook:d},u.defer({assign_fn:function(){return n=arguments[0]},lineno:461})),u._fulfill()});null==p&&null!=t.salt?m():(u=new y.Deferrals(m,{parent:h,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.resalt({salt:p,extra_keymaterial:_,progress_hook:d},w(u.defer({lineno:460}))),u._fulfill())},o.prototype.clone=function(){var t=new o({key:null!=(t=this.key)?t.to_buffer():void 0,rng:this.rng,version:null!=(t=this.version)?t.version:void 0});return t.derived_keys=this.clone_derived_keys(),t},o})(),d=function(t,e){var r,n,i=y.findDeferral(arguments),o=t.key,a=t.data,u=t.progress_hook,c=new s({key:o,rng:t.rng,version:t.version});o=function(){return c.scrub(),e(r,n)};t=new y.Deferrals(o,{parent:i,filename:"/Users/max/src/keybase/triplesec/src/enc.iced"}),c.run({data:a,progress_hook:u},t.defer({assign_fn:function(){return r=arguments[0],n=arguments[1]},lineno:506})),t._fulfill()},r.V=f,r.encrypt=d,r.Base=n,r.Encryptor=s}).call(this)},{"./aes":1,"./combine":3,"./ctr":4,"./hmac":8,"./keccak":9,"./pbkdf2":12,"./prng":13,"./salsa20":15,"./scrypt":16,"./sha3std":22,"./sha512":23,"./twofish":24,"./util":25,"./wordarray":26,"iced-error":29,"iced-runtime":33}],8:[function(t,e,r){(function(){var e,n,i,s,o,a,u,c={}.hasOwnProperty;function h(t,e){var r,n,s;for(null==e&&(e=i),this.key=t.clone(),this.hasher=new e,this.hasherBlockSize=this.hasher.blockSize,this.hasherBlockSizeBytes=4*this.hasherBlockSize,this.key.sigBytes>this.hasherBlockSizeBytes&&(this.key=this.hasher.finalize(this.key)),this.key.clamp(),this._oKey=this.key.clone(),this._iKey=this.key.clone(),r=n=0,s=this.hasherBlockSize;0<=s?n<s:s<n;r=0<=s?++n:--n)this._oKey.words[r]^=1549556828,this._iKey.words[r]^=909522486;this._oKey.sigBytes=this._iKey.sigBytes=this.hasherBlockSizeBytes,this.reset()}o=t("iced-runtime"),i=t("./sha512").SHA512,n=t("./sha256").SHA256,u=t("./util"),h.prototype.outputSize=h.outputSize=64,h.prototype.get_output_size=function(){return this.hasher.output_size},h.prototype.reset=function(){return this.hasher.reset().update(this._iKey)},h.prototype.update=function(t){return this.hasher.update(t),this},h.prototype.finalize=function(t){var e,r;t=this.hasher.finalize(t);return this.hasher.reset(),e=this._oKey.clone().concat(t),r=this.hasher.finalize(e),t.scrub(),e.scrub(),r},h.prototype.scrub=function(){return this.key.scrub(),this._iKey.scrub(),this._oKey.scrub()},e=h,a=function(t){var r=t.key,n=t.input;t=(r=new e(r,t.hash_class)).finalize(n.clamp());return r.scrub(),t},s=function(t,r){var n,i,s=o.findDeferral(arguments),a=t.key,c=t.input,h=t.progress_hook,f=t.klass,l=t.what;l=l||"hmac_sha512",n=new(f=f||e)(a,t.combine_klasses),c.clamp(),f={update:function(t,e){return n.update(c.slice(t,e))},finalize:function(){return n.finalize()},default_n:1e3*n.hasherBlockSize},a=function(){return n.scrub(),r(i)};t=new o.Deferrals(a,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/hmac.iced"}),u.bulk(c.sigBytes,f,{what:l,progress_hook:h,cb:t.defer({assign_fn:function(){return i=arguments[0]},lineno:137})}),t._fulfill()},r.HMAC_SHA256=(()=>{var t,r=o,i=e;for(t in i)c.call(i,t)&&(r[t]=i[t]);function s(){this.constructor=r}function o(t){o.__super__.constructor.call(this,t,n)}return s.prototype=i.prototype,r.prototype=new s,r.__super__=i.prototype,o})(),r.HMAC=e,r.sign=a,r.bulk_sign=s}).call(this)},{"./sha256":19,"./sha512":23,"./util":25,"iced-runtime":33}],9:[function(t,e,r){(function(){var e,n,i,s,o,a,u={}.hasOwnProperty;function c(){this.RHO_OFFSETS=[],this.PI_INDEXES=[],this.ROUND_CONSTANTS=[],this.T=[],this.compute_rho_offsets(),this.compute_pi_indexes(),this.compute_round_constants(),this.make_reusables()}a=t("./wordarray"),i=a.WordArray,s=a.X64Word,e=t("./algbase").Hasher,c.prototype.compute_rho_offsets=function(){for(var t,e,r=1,n=0,i=[],s=e=0;e<24;s=++e)this.RHO_OFFSETS[r+5*n]=(s+1)*(s+2)/2%64,t=(2*r+3*n)%5,r=n%5,i.push(n=t);return i},c.prototype.compute_pi_indexes=function(){for(var t,e,r=[],n=e=0;e<5;n=++e)r.push(function(){var e,r=[];for(t=e=0;e<5;t=++e)r.push(this.PI_INDEXES[n+5*t]=t+(2*n+3*t)%5*5);return r}.call(this));return r},c.prototype.compute_round_constants=function(){for(var t,e,r,n,i,o,a=1,u=[],c=i=0;i<24;c=++i){for(e=o=r=n=0;o<7;e=++o)1&a&&((t=(1<<e)-1)<32?r^=1<<t:n^=1<<t-32),128&a?a=a<<1^113:a<<=1;u.push(this.ROUND_CONSTANTS[c]=new s(n,r))}return u},c.prototype.make_reusables=function(){return this.T=(()=>{var t,e=[];for(t=0;t<25;++t)e.push(new s(0,0));return e})()},o=new c,r.KECCAK=n=(()=>{var t,r=c,n=e;for(t in n)u.call(n,t)&&(r[t]=n[t]);function a(){this.constructor=r}function c(){return c.__super__.constructor.apply(this,arguments)}return a.prototype=n.prototype,r.prototype=new a,r.__super__=n.prototype,c.prototype.outputLength=c.outputLength=512,c.prototype.blockSize=c.blockSize=(1600-2*c.outputLength)/32,c.prototype.output_size=c.output_size=c.outputLength/8,c.prototype.pad=1,c.prototype._doReset=function(){return this._state=(()=>{var t,e=[];for(t=0;t<25;++t)e.push(new s(0,0));return e})()},c.prototype._doProcessBlock=function(t,e){for(var r,n,i,s,a,u,c,h,f,l,p,_,d,y,g,w,m,b,v,k,B,S,A,D,E,T,x,P,U,C,O,M=o,I=this._state,z=this.blockSize/2,R=S=0;0<=z?S<z:z<S;R=0<=z?++S:--S)r=16711935&((r=t[e+2*R])<<8|r>>>24)|4278255360&(r<<24|r>>>8),(l=I[R]).high^=16711935&((n=t[e+2*R+1])<<8|n>>>24)|4278255360&(n<<24|n>>>8),l.low^=r;for(O=[],g=A=0;A<24;g=++A){for(k=D=0;D<5;k=++D){for(B=E=v=b=0;E<5;B=++E)v^=(l=I[k+5*B]).high,b^=l.low;(s=M.T[k]).high=v,s.low=b}for(k=T=0;T<5;k=++T)for(f=M.T[(k+4)%5],c=(u=M.T[(k+1)%5]).high,v=f.high^(c<<1|(u=u.low)>>>31),b=f.low^(u<<1|c>>>31),B=x=0;x<5;B=++x)(l=I[k+5*B]).high^=v,l.low^=b;for(p=P=1;P<25;p=++P)d=(l=I[p]).high,_=l.low,b=(y=M.RHO_OFFSETS[p])<32?(v=d<<y|_>>>32-y,_<<y|d>>>32-y):(v=_<<y-32|d>>>64-y,d<<y-32|_>>>64-y),(d=M.T[M.PI_INDEXES[p]]).high=v,d.low=b;for(w=M.T[0],m=I[0],w.high=m.high,w.low=m.low,k=U=0;U<5;k=++U)for(B=C=0;C<5;B=++C)l=I[p=k+5*B],i=M.T[p],a=M.T[(k+1)%5+5*B],h=M.T[(k+2)%5+5*B],l.high=i.high^~a.high&h.high,l.low=i.low^~a.low&h.low;l=I[0],w=M.ROUND_CONSTANTS[g],l.high^=w.high,O.push(l.low^=w.low)}return O},c.prototype._doFinalize=function(){var t,e,r,n,s,o,a,u=this._data,c=u.words,h=(this._nDataBytes,8*u.sigBytes),f=32*this.blockSize;for(c[h>>>5]|=this.pad<<24-h%32,c[(Math.ceil((1+h)/f)*f>>>5)-1]|=128,u.sigBytes=4*c.length,this._process(),o=this._state,s=(h=this.outputLength/8)/8,t=[],e=a=0;0<=s?a<s:s<a;e=0<=s?++a:--a)n=16711935&((n=(r=o[e]).high)<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.push(16711935&((r=r.low)<<8|r>>>24)|4278255360&(r<<24|r>>>8)),t.push(n);return new i(t,h)},c.prototype.copy_to=function(t){var e;return c.__super__.copy_to.call(this,t),t._state=function(){for(var t=this._state,r=[],n=0,i=t.length;n<i;n++)e=t[n],r.push(e.clone());return r}.call(this)},c.prototype.scrub=function(){},c.prototype.clone=function(){var t=new c;return this.copy_to(t),t},c})(),r.transform=function(t){var e=(new n).finalize(t);return t.scrub(),e}}).call(this)},{"./algbase":2,"./wordarray":26}],10:[function(t,e,r){(function(e){(function(){var n,i,s,o,a=t("./enc");for(i in a)s=a[i],r[i]=s;for(i in o=t("./dec"))s=o[i],r[i]=s;r.prng=t("./prng"),r.Buffer=e,r.WordArray=t("./wordarray").WordArray,r.util=t("./util"),r.ciphers={AES:t("./aes").AES,TwoFish:t("./twofish").TwoFish,Salsa20:t("./salsa20").Salsa20},r.hash={SHA1:t("./sha1").SHA1,SHA224:t("./sha224").SHA224,SHA256:t("./sha256").SHA256,SHA384:t("./sha384").SHA384,SHA512:t("./sha512").SHA512,KECCAK:t("./keccak").KECCAK,SHA3:t("./sha3").SHA3,SHA3STD:t("./sha3std").SHA3STD,MD5:t("./md5").MD5,RIPEMD160:t("./ripemd160").RIPEMD160},r.modes={CTR:t("./ctr")},r.scrypt=t("./scrypt").scrypt,r.pbkdf2=t("./pbkdf2").pbkdf2,r.hmac=n=t("./hmac"),r.HMAC_SHA256=n.HMAC_SHA256,r.HMAC=n.HMAC}).call(this)}).call(this,t("buffer").Buffer)},{"./aes":1,"./ctr":4,"./dec":5,"./enc":7,"./hmac":8,"./keccak":9,"./md5":11,"./pbkdf2":12,"./prng":13,"./ripemd160":14,"./salsa20":15,"./scrypt":16,"./sha1":17,"./sha224":18,"./sha256":19,"./sha3":20,"./sha384":21,"./sha3std":22,"./sha512":23,"./twofish":24,"./util":25,"./wordarray":26,buffer:27}],11:[function(t,e,r){(function(){var e,n,i,s,o,a={}.hasOwnProperty,u=t("./wordarray").WordArray,c=t("./algbase").Hasher,h=new function(){var t;this.T=(()=>{var e,r=[];for(t=e=0;e<64;t=++e)r.push(4294967296*Math.abs(Math.sin(t+1))|0);return r})()};r.MD5=o=(()=>{var t,r=l,o=c;for(t in o)a.call(o,t)&&(r[t]=o[t]);function f(){this.constructor=r}function l(){return l.__super__.constructor.apply(this,arguments)}return f.prototype=o.prototype,r.prototype=new f,r.__super__=o.prototype,l.prototype.blockSize=l.blockSize=16,l.prototype.output_size=l.output_size=16,l.prototype._doReset=function(){return this._hash=new u([1732584193,4023233417,2562383102,271733878])},l.prototype._doProcessBlock=function(t,r){for(var o,a,u,c,f,l,p,_,d,y,g,w,m,b,v,k,B,S,A,D,E,T,x,P,U=P=0;P<16;U=++P)S=t[x=r+U],t[x]=16711935&(S<<8|S>>>24)|4278255360&(S<<24|S>>>8);return o=this._hash.words,a=t[r+0],u=t[r+1],y=t[r+2],g=t[r+3],w=t[r+4],m=t[r+5],b=t[r+6],v=t[r+7],k=t[r+8],B=t[r+9],c=t[r+10],f=t[r+11],l=t[r+12],p=t[r+13],_=t[r+14],d=t[r+15],A=o[0],A=e(A,D=o[1],E=o[2],T=o[3],a,7,h.T[0]),T=e(T,A,D,E,u,12,h.T[1]),E=e(E,T,A,D,y,17,h.T[2]),D=e(D,E,T,A,g,22,h.T[3]),A=e(A,D,E,T,w,7,h.T[4]),T=e(T,A,D,E,m,12,h.T[5]),E=e(E,T,A,D,b,17,h.T[6]),D=e(D,E,T,A,v,22,h.T[7]),A=e(A,D,E,T,k,7,h.T[8]),T=e(T,A,D,E,B,12,h.T[9]),E=e(E,T,A,D,c,17,h.T[10]),D=e(D,E,T,A,f,22,h.T[11]),A=e(A,D,E,T,l,7,h.T[12]),T=e(T,A,D,E,p,12,h.T[13]),E=e(E,T,A,D,_,17,h.T[14]),D=e(D,E,T,A,d,22,h.T[15]),A=n(A,D,E,T,u,5,h.T[16]),T=n(T,A,D,E,b,9,h.T[17]),E=n(E,T,A,D,f,14,h.T[18]),D=n(D,E,T,A,a,20,h.T[19]),A=n(A,D,E,T,m,5,h.T[20]),T=n(T,A,D,E,c,9,h.T[21]),E=n(E,T,A,D,d,14,h.T[22]),D=n(D,E,T,A,w,20,h.T[23]),A=n(A,D,E,T,B,5,h.T[24]),T=n(T,A,D,E,_,9,h.T[25]),E=n(E,T,A,D,g,14,h.T[26]),D=n(D,E,T,A,k,20,h.T[27]),A=n(A,D,E,T,p,5,h.T[28]),T=n(T,A,D,E,y,9,h.T[29]),E=n(E,T,A,D,v,14,h.T[30]),D=n(D,E,T,A,l,20,h.T[31]),A=i(A,D,E,T,m,4,h.T[32]),T=i(T,A,D,E,k,11,h.T[33]),E=i(E,T,A,D,f,16,h.T[34]),D=i(D,E,T,A,_,23,h.T[35]),A=i(A,D,E,T,u,4,h.T[36]),T=i(T,A,D,E,w,11,h.T[37]),E=i(E,T,A,D,v,16,h.T[38]),D=i(D,E,T,A,c,23,h.T[39]),A=i(A,D,E,T,p,4,h.T[40]),T=i(T,A,D,E,a,11,h.T[41]),E=i(E,T,A,D,g,16,h.T[42]),D=i(D,E,T,A,b,23,h.T[43]),A=i(A,D,E,T,B,4,h.T[44]),T=i(T,A,D,E,l,11,h.T[45]),E=i(E,T,A,D,d,16,h.T[46]),D=i(D,E,T,A,y,23,h.T[47]),A=s(A,D,E,T,a,6,h.T[48]),T=s(T,A,D,E,v,10,h.T[49]),E=s(E,T,A,D,_,15,h.T[50]),D=s(D,E,T,A,m,21,h.T[51]),A=s(A,D,E,T,l,6,h.T[52]),T=s(T,A,D,E,g,10,h.T[53]),E=s(E,T,A,D,c,15,h.T[54]),D=s(D,E,T,A,u,21,h.T[55]),A=s(A,D,E,T,k,6,h.T[56]),T=s(T,A,D,E,d,10,h.T[57]),E=s(E,T,A,D,b,15,h.T[58]),D=s(D,E,T,A,p,21,h.T[59]),A=s(A,D,E,T,w,6,h.T[60]),T=s(T,A,D,E,f,10,h.T[61]),E=s(E,T,A,D,y,15,h.T[62]),D=s(D,E,T,A,B,21,h.T[63]),o[0]=o[0]+A|0,o[1]=o[1]+D|0,o[2]=o[2]+E|0,o[3]=o[3]+T|0},l.prototype._doFinalize=function(){var t,e,r,n,i,s=this._data,o=s.words,a=8*this._nDataBytes,u=8*s.sigBytes;for(o[u>>>5]|=128<<24-u%32,n=Math.floor(a/4294967296),a=a,o[15+(64+u>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),o[14+(64+u>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),s.sigBytes=4*(o.length+1),this._process(),t=(n=this._hash).words,r=i=0;i<4;r=++i)e=t[r],t[r]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);return n},l.prototype.copy_to=function(t){return l.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},l.prototype.clone=function(){var t=new l;return this.copy_to(t),t},l})(),e=function(t,e,r,n,i,s,o){return((t=t+(e&r|~e&n)+i+o)<<s|t>>>32-s)+e},n=function(t,e,r,n,i,s,o){return((t=t+(e&n|r&~n)+i+o)<<s|t>>>32-s)+e},i=function(t,e,r,n,i,s,o){return((t=t+(e^r^n)+i+o)<<s|t>>>32-s)+e},s=function(t,e,r,n,i,s,o){return((t=t+(r^(e|~n))+i+o)<<s|t>>>32-s)+e},r.transform=function(t){var e=(new o).finalize(t);return t.scrub(),e}}).call(this)},{"./algbase":2,"./wordarray":26}],12:[function(t,e,r){(function(){var e,n,i,s,o;function a(t){this.klass=t.klass,this.c=t.c,this.c||(this.c=1024),this.klass||(this.klass=e)}s=t("iced-runtime"),e=t("./hmac").HMAC,i=t("./wordarray").WordArray,o=t("./util"),a.prototype._PRF=function(t){return this.prf.reset(),this.prf.finalize(t)},a.prototype._gen_T_i=function(t,e){var r,n,a,u,c,h=s.findDeferral(arguments),f=t.salt,l=t.i,p=t.progress_hook,_=(f=(p(0),t=f.clone().concat(new i([l])),r=this._PRF(t),n=r.clone(),l=1,c=this,function(){return p(l),e(n)}),function(t){var e=t;if(!(l<c.c))return e();for(a=Math.min(c.c,l+128);l<a;)r=c._PRF(r),n.xor(r,{}),l++;p(l),u=new s.Deferrals((function(){return s.trampoline((function(){return _(t)}))}),{parent:h,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced",funcname:"PBKDF2._gen_T_i"}),o.default_delay(0,0,u.defer({lineno:57})),u._fulfill()});_(f)},a.prototype.run=function(t,e){var r,n,o,a,u,c,h,f,l,p,_,d,y=s.findDeferral(arguments),g=t.key,w=t.salt,m=t.dkLen,b=t.progress_hook;this.prf=new this.klass(g),t=this.prf.get_output_size(),o=Math.ceil(m/t),c=[],l=this,(a=function(t){return function(e){return"function"==typeof b?b({what:"pbkdf2",total:o*l.c,i:t*l.c+e}):void 0}})(0)(0),_=d=this,t=function(){var t;return a(o)(0),r=(t=[]).concat.apply(t,c),g.scrub(),_.prf.scrub(),_.prf=null,e(new i(r,m))};f=(n=1)<o,(p=function(t){if(1==f&&o<n||0==f&&n<o)return t();h=new s.Deferrals((function(){return c.push(u.words),s.trampoline((function(){return f?n+=1:--n,p(t)}))}),{parent:y,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced",funcname:"PBKDF2.run"}),d._gen_T_i({salt:w,i:n,progress_hook:a(n-1)},h.defer({assign_fn:function(){return u=arguments[0]},lineno:80})),h._fulfill()})(t)},n=a,r.pbkdf2=function(t,e){var r,i=s.findDeferral(arguments),o=t.key,a=t.salt,u=t.dkLen,c=t.progress_hook,h=(t=new n({klass:t.klass,c:t.c}),function(){return e(r)});h=new s.Deferrals(h,{parent:i,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced"}),t.run({key:o,salt:a,dkLen:u,progress_hook:c},h.defer({assign_fn:function(){return r=arguments[0]},lineno:106})),h._fulfill()},r.PBKDF2=n}).call(this)},{"./hmac":8,"./util":25,"./wordarray":26,"iced-runtime":33}],13:[function(t,e,r){(function(e){(function(){var n,i,s,o,a,u,c,h=t("iced-runtime"),f=t("more-entropy"),l=t("./drbg").ADRBG,p=t("./wordarray").WordArray,_=t("./combine").XOR,d=t("./util"),y=null;if(null!=(y=null!=(u="undefined"!=typeof window&&null!==window&&null!=(u=window.crypto)?u.getRandomValues:void 0)?u.bind(window.crypto):null!=(u="undefined"!=typeof window&&null!==window&&null!=(c=window.msCrypto)?c.getRandomValues:void 0)?u.bind(window.msCrypto):null))o=function(t){return t=new Uint8Array(t),y(t),e.from(t)};else try{null!=(s=t("crypto").rng)&&(o=s)}catch(s){}function g(){var t;this.meg=new f.Generator,this.adrbg=new l((t=this,function(e,r){return t.gen_seed(e,r)}),_.sign)}i=function(t){if(null==o)throw new Error('No rng found; tried requiring "crypto" and window.crypto');return o(t)},g.prototype.now_to_buffer=function(){var t=(r=Date.now())%1e3,r=Math.floor(r/1e3),n=e.alloc(8);return n.writeUInt32BE(r,0),n.writeUInt32BE(t,4),n},g.prototype.gen_seed=function(t,r){var n,s,o,a,u,c,f=h.findDeferral(arguments),l=t/8,_=[],y=(_.push(this.now_to_buffer()),u=c=this,function(){var t,c;for(_.push(u.now_to_buffer()),_.push(e.from(a)),_.push(i(l)),_.push(u.now_to_buffer()),s=e.concat(_),o=p.from_buffer(s),d.scrub_buffer(s),t=0,c=_.length;t<c;t++)n=_[t],d.scrub_buffer(n);return r(o)});y=new h.Deferrals(y,{parent:f,filename:"/Users/max/src/keybase/triplesec/src/prng.iced",funcname:"PRNG.gen_seed"}),c.meg.generate(t,y.defer({assign_fn:function(){return a=arguments[0]},lineno:83})),y._fulfill()},g.prototype.generate=function(t,e){return this.adrbg.generate(t,e)},n=g,a=null,c=function(t,e){return(a=null==a?new n:a).generate(t,e)},r.PRNG=n,r.generate=c,r.native_rng=i}).call(this)}).call(this,t("buffer").Buffer)},{"./combine":3,"./drbg":6,"./util":25,"./wordarray":26,buffer:27,"iced-runtime":33,"more-entropy":38}],14:[function(t,e,r){(function(){var e={}.hasOwnProperty,n=(p=t("./wordarray")).WordArray,i=t("./algbase").Hasher,s=new function(){this._zl=new n([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),this._zr=new n([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),this._sl=new n([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),this._sr=new n([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),this._hl=new n([0,1518500249,1859775393,2400959708,2840853838]),this._hr=new n([1352829926,1548603684,1836072691,2053994217,0])},o=(()=>{var t,r=_,o=i;for(t in o)e.call(o,t)&&(r[t]=o[t]);function p(){this.constructor=r}function _(){return _.__super__.constructor.apply(this,arguments)}return p.prototype=o.prototype,r.prototype=new p,r.__super__=o.prototype,_.prototype.blockSize=_.blockSize=16,_.prototype.output_size=_.output_size=20,_.prototype._doReset=function(){return this._hash=new n([1732584193,4023233417,2562383102,271733878,3285377520])},_.prototype.get_output_size=function(){return this.output_size},_.prototype._doProcessBlock=function(t,e){for(var r,n,i,o,p,_,d,y,g,w,m,b,v,k,B,S,A,D,E,T,x,P,U=x=0;x<16;U=++x)n=t[B=e+U],t[B]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);for(r=this._hash.words,v=s._hl.words,k=s._hr.words,E=s._zl.words,T=s._zr.words,S=s._sl.words,A=s._sr.words,o=i=r[0],_=p=r[1],y=d=r[2],w=g=r[3],b=m=r[4],U=P=0;P<80;U=++P)D=i+t[e+E[U]]|0,D+=U<16?a(p,d,g)+v[0]:U<32?u(p,d,g)+v[1]:U<48?c(p,d,g)+v[2]:U<64?h(p,d,g)+v[3]:f(p,d,g)+v[4],D=(D=l(D|=0,S[U]))+m|0,i=m,m=g,g=l(d,10),d=p,p=D,D=o+t[e+T[U]]|0,D+=U<16?f(_,y,w)+k[0]:U<32?h(_,y,w)+k[1]:U<48?c(_,y,w)+k[2]:U<64?u(_,y,w)+k[3]:a(_,y,w)+k[4],D=(D=l(D|=0,A[U]))+b|0,o=b,b=w,w=l(y,10),y=_,_=D;return D=r[1]+d+w|0,r[1]=r[2]+g+b|0,r[2]=r[3]+m+o|0,r[3]=r[4]+i+_|0,r[4]=r[0]+p+y|0,r[0]=D},_.prototype._doFinalize=function(){var t,e,r,n,i=this._data,s=i.words,o=8*this._nDataBytes,a=8*i.sigBytes;for(s[a>>>5]|=128<<24-a%32,s[14+(64+a>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i.sigBytes=4*(s.length+1),this._process(),t=(a=this._hash).words,r=n=0;n<5;r=++n)e=t[r],t[r]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);return a},_.prototype.scrub=function(){return this._hash.scrub()},_.prototype.copy_to=function(t){return _.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},_.prototype.clone=function(){var t=new _;return this.copy_to(t),t},_})(),a=function(t,e,r){return t^e^r},u=function(t,e,r){return t&e|~t&r},c=function(t,e,r){return(t|~e)^r},h=function(t,e,r){return t&r|e&~r},f=function(t,e,r){return t^(e|~r)},l=function(t,e){return t<<e|t>>>32-e},p=function(t){var e=(new o).finalize(t);return t.scrub(),e};r.RIPEMD160=o,r.transform=p}).call(this)},{"./algbase":2,"./wordarray":26}],15:[function(t,e,r){(function(e){(function(){function n(t,e){for(var r in e)y.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}var i,s,o,a,u,c,h,f,l,p,_,d,y={}.hasOwnProperty;function g(t){this.rounds=t}function w(t,e){if(w.__super__.constructor.call(this,20),this.key=t.clone().endian_reverse(),this.nonce=e.clone().endian_reverse(),(16!==this.key.sigBytes||8!==this.nonce.sigBytes)&&(32!==this.key.sigBytes||8!==(t=this.nonce.sigBytes)&&24!==t))throw new Error("Bad key/nonce lengths");24===this.nonce.sigBytes&&this.xsalsa_setup(),this.input=this.key_iv_setup(this.nonce,this.key),this._reset()}function m(){return m.__super__.constructor.apply(this,arguments)}function b(){return b.__super__.constructor.apply(this,arguments)}function v(t){var e=t.key;t=t.iv;v.__super__.constructor.call(this),this.salsa=new u(e,t),this.bsiw=this.salsa.blockSize/4}p=t("iced-runtime"),d=t("./wordarray"),f=d.endian_reverse,c=d.WordArray,s=t("./ctr").Counter,l=t("./util").fixup_uint32,d=t("./algbase").StreamCipher,_=t("./util"),h=function(t,e){for(var r,n,i=n=0,s=e.length;n<s;i=++n)r=e[i],t[i]+=r;return!1},g.prototype._core=function(t){for(var e,r,n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],u=t[5],c=t[6],h=t[7],f=t[8],l=t[9],p=t[10],_=t[11],d=t[12],y=t[13],g=t[14],w=t[15],m=(r=0,this.rounds);r<m;r+=2)n^=(e=(d^=(e=(f^=(e=(a^=(e=n+d|0)<<7|e>>>25)+n|0)<<9|e>>>23)+a|0)<<13|e>>>19)+f|0)<<18|e>>>14,u^=(e=(i^=(e=(y^=(e=(l^=(e=u+i|0)<<7|e>>>25)+u|0)<<9|e>>>23)+l|0)<<13|e>>>19)+y|0)<<18|e>>>14,p^=(e=(c^=(e=(s^=(e=(g^=(e=p+c|0)<<7|e>>>25)+p|0)<<9|e>>>23)+g|0)<<13|e>>>19)+s|0)<<18|e>>>14,w^=(e=(_^=(e=(h^=(e=(o^=(e=w+_|0)<<7|e>>>25)+w|0)<<9|e>>>23)+o|0)<<13|e>>>19)+h|0)<<18|e>>>14,n^=(e=(o^=(e=(s^=(e=(i^=(e=n+o|0)<<7|e>>>25)+n|0)<<9|e>>>23)+i|0)<<13|e>>>19)+s|0)<<18|e>>>14,u^=(e=(a^=(e=(h^=(e=(c^=(e=u+a|0)<<7|e>>>25)+u|0)<<9|e>>>23)+c|0)<<13|e>>>19)+h|0)<<18|e>>>14,p^=(e=(l^=(e=(f^=(e=(_^=(e=p+l|0)<<7|e>>>25)+p|0)<<9|e>>>23)+_|0)<<13|e>>>19)+f|0)<<18|e>>>14,w^=(e=(g^=(e=(y^=(e=(d^=(e=w+g|0)<<7|e>>>25)+w|0)<<9|e>>>23)+d|0)<<13|e>>>19)+y|0)<<18|e>>>14;return[n,i,s,o,a,u,c,h,f,l,p,_,d,y,g,w]},n(w,a=g),w.prototype.sigma=c.from_buffer_le(e.from("expand 32-byte k")),w.prototype.tau=c.from_buffer_le(e.from("expand 16-byte k")),w.prototype.blockSize=w.blockSize=64,w.prototype.keySize=w.keySize=32,w.prototype.ivSize=w.ivSize=24,w.prototype.scrub=function(){return this.key.scrub(),this.nonce.scrub(),_.scrub_vec(this.input)},w.prototype.xsalsa_setup=function(){var t=new c(this.nonce.words.slice(0,4));return this.nonce=new c(this.nonce.words.slice(4)),this.key=this.hsalsa20(t,this.key)},w.prototype.hsalsa20=function(t,e){var r,n;return(e=this.key_iv_setup(t,e))[8]=t.words[2],e[9]=t.words[3],n=this._core(e),r=[0,5,10,15,6,7,8,9],n=(()=>{for(var t=[],e=0,i=r.length;e<i;e++)t.push(l(n[r[e]]));return t})(),_.scrub_vec(e),new c(n)},w.prototype.key_iv_setup=function(t,e){for(var r,n,i,s,o,a,u=[],c=i=0;i<4;c=++i)u[c+1]=e.words[c];for(n=(a=32===e.sigBytes?[this.sigma,e.words.slice(4)]:[this.tau,e.words])[0],r=a[1],c=s=0;s<4;c=++s)u[c+11]=r[c];for(c=o=0;o<4;c=++o)u[5*c]=n.words[c];return u[6]=t.words[0],u[7]=t.words[1],u},w.prototype.counter_setup=function(){return this.input[8]=this.counter.get().words[0],this.input[9]=this.counter.get().words[1]},w.prototype._reset=function(){return this.counter=new s({len:2})},w.prototype._generateBlock=function(){var t;return this.counter_setup(),t=this._core(this.input),h(t,this.input),this.counter.inc_le(),t},r.Salsa20WordStream=(n(m,o=w),m.prototype._reset=function(){return m.__super__._reset.call(this)},m.prototype.getWordArray=function(t){for(var e,r,n,i,s,o=null==t||t===this.blockSize?this._generateBlock():(r=Math.ceil(t/this.blockSize),e=function(){var t,e=[];for(a=t=0;0<=r?t<r:r<t;a=0<=r?++t:--t)e.push(this._generateBlock());return e}.call(this),(s=[]).concat.apply(s,e)),a=i=0,u=o.length;i<u;a=++i)n=o[a],o[a]=f(n);return new c(o,t)},u=m),r.Salsa20=(n(b,o),b.prototype._reset=function(){return b.__super__._reset.call(this),this._i=this.blockSize},b.prototype.getBytes=function(t){var r,n,i;if(null==t&&(t=this.blockSize),i=[],r=this.blockSize,this._i===r&&t===r)return this._generateBlockBuffer();for(;0<t;)this._i===r&&(this._generateBlockBuffer(),this._i=0),n=Math.min(t,r-this._i),i.push(n===r?this._buf:this._buf.slice(this._i,this._i+n)),this._i+=n,t-=n;return e.concat(i)},b.prototype._generateBlockBuffer=function(){var t,r,n,i,s;for(this._buf=e.alloc(this.blockSize),r=i=0,s=(n=this._generateBlock()).length;i<s;r=++i)t=n[r],this._buf.writeUInt32LE(l(t),4*r);return this._buf},b),r.Cipher=(n(v,d),v.prototype.scrub=function(){return this.salsa.scrub()},v.prototype.get_pad=function(){return this.salsa.getWordArray()},i=v),r.encrypt=function(t){var e=t.key,r=t.input;t=(e=new i({key:e,iv:t.iv})).encrypt(r);return e.scrub(),t},r.bulk_encrypt=function(t,e){var r,n=p.findDeferral(arguments),s=t.key,o=t.input,a=t.progress_hook,u=new i({key:s,iv:t.iv});s=function(){return u.scrub(),e(r)};t=new p.Deferrals(s,{parent:n,filename:"/Users/max/src/keybase/triplesec/src/salsa20.iced"}),u.bulk_encrypt({input:o,progress_hook:a,what:"salsa20"},t.defer({assign_fn:function(){return r=arguments[0]},lineno:256})),t._fulfill()},r.Salsa20InnerCore=a,r.endian_reverse=f,r.asum=h}).call(this)}).call(this,t("buffer").Buffer)},{"./algbase":2,"./ctr":4,"./util":25,"./wordarray":26,buffer:27,"iced-runtime":33}],16:[function(t,e,r){(function(){var e,n,i,s,o,a,u,c,h,f,l,p,_,d;function y(t){var r,i,s,o=t.N;this.r=t.r,this.p=t.p,r=t.c,i=t.c0,s=t.c1,this.klass=t.klass,this.N||(this.N=1<<(o||15)),this.r||(this.r=8),this.p||(this.p=1),this.c0=i||r||1,this.c1=s||r||1,this.klass||(this.klass=e),this.X16_tmp=new Int32Array(16),this.s20ic=new n(8)}f=t("iced-runtime"),e=t("./hmac").HMAC_SHA256,l=t("./pbkdf2").pbkdf2,d=t("./salsa20"),c=d.endian_reverse,n=d.Salsa20InnerCore,(d=t("./wordarray")).ui8a_to_buffer,s=d.WordArray,d=t("./util"),h=d.fixup_uint32,u=d.default_delay,p=d.scrub_vec,o=function(t,e,r,n,i){for(var s=r<<4|0,o=n<<4|0,a=o+(i<<4)|0;o<a;)t[s]=e[o],t[s+1]=e[o+1],t[s+2]=e[o+2],t[s+3]=e[o+3],t[s+4]=e[o+4],t[s+5]=e[o+5],t[s+6]=e[o+6],t[s+7]=e[o+7],t[s+8]=e[o+8],t[s+9]=e[o+9],t[s+10]=e[o+10],t[s+11]=e[o+11],t[s+12]=e[o+12],t[s+13]=e[o+13],t[s+14]=e[o+14],t[s+15]=e[o+15],o+=16,s+=16;return!0},a=function(t,e,r,n){var i,s;for(n=n<<4|0,s=r<<4|(i=0);i<n;)t[i]^=e[s],t[i+1]^=e[s+1],t[i+2]^=e[s+2],t[i+3]^=e[s+3],t[i+4]^=e[s+4],t[i+5]^=e[s+5],t[i+6]^=e[s+6],t[i+7]^=e[s+7],t[i+8]^=e[s+8],t[i+9]^=e[s+9],t[i+10]^=e[s+10],t[i+11]^=e[s+11],t[i+12]^=e[s+12],t[i+13]^=e[s+13],t[i+14]^=e[s+14],t[i+15]^=e[s+15],i+=16,s+=16;return!0},_=function(t){for(var e,r,n=r=0,i=t.length;r<i;n=++r)e=t[n],t[n]=c(e);return!0},y.prototype.salsa20_8=function(t){for(var e,r,n=this.s20ic._core(t),i=r=0,s=n.length;r<s;i=++r)e=n[i],t[i]+=e;return!0},y.prototype.pbkdf2=function(t,e){var r,n,i=f.findDeferral(arguments),s=t.key,o=t.salt,a=t.dkLen,u=t.progress_hook,c=(t=t.c,n=this,function(){return e(r)});c=new f.Deferrals(c,{parent:i,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.pbkdf2"}),l({key:s,salt:o,c:t,dkLen:a,klass:n.klass,progress_hook:u},c.defer({assign_fn:function(){return r=arguments[0]},lineno:109})),c._fulfill()},y.prototype.blockmix_salsa8=function(t,e){var r,n,i,s=this.X16_tmp;for(o(s,t,0,2*this.r-1,1),r=n=0,i=2*this.r;0<=i?n<i:i<n;r=0<=i?++n:--n)a(s,t,r,1),this.salsa20_8(s),o(e,s,r,0,1);for(r=0;r<this.r;)o(t,e,r,2*r,1),r++;for(r=0;r<this.r;)o(t,e,r+this.r,2*r+1,1),r++;return!0},y.prototype.smix=function(t,e){var r,n,i,s,c,l,p=f.findDeferral(arguments),_=t.B,d=t.V,y=t.XY,g=t.progress_hook,w=y,m=2*this.r,b=y.subarray(16*m),v=(t=(o(w,_,0,0,m),r=0,c=l=this,function(){var t;r=0,(t=function(e){var o=e;if(!(r<c.N))return o();for(i=Math.min(c.N,r+256);r<i;)n=h(w[16*(m-1)])&c.N-1,a(w,d,n*m,m),c.blockmix_salsa8(w,b),r++;"function"==typeof g&&g(r+c.N),s=new f.Deferrals((function(){return f.trampoline((function(){return t(e)}))}),{parent:p,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.smix"}),u(0,0,s.defer({lineno:183})),s._fulfill()})((function(){return o(_,w,0,0,m),e()}))}),function(t){var e=t;if(!(r<l.N))return e();for(i=Math.min(l.N,r+2048);r<i;)o(d,w,m*r,0,m),l.blockmix_salsa8(w,b),r++;"function"==typeof g&&g(r),s=new f.Deferrals((function(){return f.trampoline((function(){return v(t)}))}),{parent:p,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.smix"}),u(0,0,s.defer({lineno:166})),s._fulfill()});v(t)},y.prototype.run=function(t,e){var r,n,i,o,a,u,c,h,l,d,y=f.findDeferral(arguments),g=t.key,w=t.salt,m=t.dkLen,b=t.progress_hook,v=((t=4294967295)<m?new Error("asked for too much data"):this.r*this.p>=1<<30?new Error("r & p are too big"):(this.r>t/128/this.p||this.r>t/256||this.N>t/128/this.r)&&new Error("N is too big"),i=new Int32Array(64*this.r),n=new Int32Array(32*this.r*this.N),a=function(t){return t.what+=" (pass 1)","function"==typeof b?b(t):void 0},d=t=this,function(){var t;r=new Int32Array(r.words),_(r),a=function(t){return function(e){return"function"==typeof b?b({i:e+t*d.N*2,what:"scrypt",total:d.p*d.N*2}):void 0}},o=0,h=d.p,l=0<h,(t=function(e){var s=e;if(1==l&&o>=d.p||0==l&&o<=d.p)return s();c=new f.Deferrals((function(){return f.trampoline((function(){return l?o+=1:--o,t(e)}))}),{parent:y,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),d.smix({B:r.subarray(32*d.r*o),V:n,XY:i,progress_hook:a(o)},c.defer({lineno:221})),c._fulfill()})((function(){_(r),a=function(t){return t.what+=" (pass 2)","function"==typeof b?b(t):void 0};c=new f.Deferrals((function(){return p(i),p(n),p(r),g.scrub(),e(u)}),{parent:y,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),d.pbkdf2({key:g,salt:s.from_i32a(r),dkLen:m,c:d.c1,progress_hook:a},c.defer({assign_fn:function(){return u=arguments[0]},lineno:229})),c._fulfill()}))});c=new f.Deferrals(v,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),t.pbkdf2({key:g.clone(),salt:w,dkLen:128*t.r*t.p,c:t.c0,progress_hook:a},c.defer({assign_fn:function(){return r=arguments[0]},lineno:214})),c._fulfill()},i=y,d=function(t,e){var r,n=f.findDeferral(arguments),s=t.key,o=t.salt,a=t.progress_hook,u=t.dkLen,c=(t=new i({r:t.r,N:t.N,p:t.p,c:t.c,c0:t.c0,c1:t.c1,klass:t.klass}),function(){return e(r)});c=new f.Deferrals(c,{parent:n,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced"}),t.run({key:s,salt:o,progress_hook:a,dkLen:u},c.defer({assign_fn:function(){return r=arguments[0]},lineno:259})),c._fulfill()},r.Scrypt=i,r.scrypt=d,r.v_endian_reverse=_}).call(this)},{"./hmac":8,"./pbkdf2":12,"./salsa20":15,"./util":25,"./wordarray":26,"iced-runtime":33}],17:[function(t,e,r){(function(){var e={}.hasOwnProperty,n=t("./wordarray").WordArray,i=t("./algbase").Hasher,s=[],o=(()=>{var t,r=u,o=i;for(t in o)e.call(o,t)&&(r[t]=o[t]);function a(){this.constructor=r}function u(){return u.__super__.constructor.apply(this,arguments)}return a.prototype=o.prototype,r.prototype=new a,r.__super__=o.prototype,u.prototype.blockSize=u.blockSize=16,u.prototype.output_size=u.output_size=20,u.prototype._doReset=function(){return this._hash=new n([1732584193,4023233417,2562383102,271733878,3285377520])},u.prototype._doProcessBlock=function(t,e){for(var r,n,i=this._hash.words,o=i[0],a=i[1],u=i[2],c=i[3],h=i[4],f=n=0;n<80;f=++n)f<16?s[f]=0|t[e+f]:(r=s[f-3]^s[f-8]^s[f-14]^s[f-16],s[f]=r<<1|r>>>31),r=(o<<5|o>>>27)+h+s[f],r+=f<20?1518500249+(a&u|~a&c):f<40?1859775393+(a^u^c):f<60?(a&u|a&c|u&c)-1894007588:(a^u^c)-899497514,h=c,c=u,u=a<<30|a>>>2,a=o,o=r;return i[0]=i[0]+o|0,i[1]=i[1]+a|0,i[2]=i[2]+u|0,i[3]=i[3]+c|0,i[4]=i[4]+h|0},u.prototype._doFinalize=function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(64+n>>>9<<4)]=Math.floor(r/4294967296),e[15+(64+n>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},u.prototype.copy_to=function(t){return u.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},u.prototype.clone=function(){var t=new u;return this.copy_to(t),t},u})();r.SHA1=o,r.transform=function(t){var e=(new o).finalize(t);return t.scrub(),e}}).call(this)},{"./algbase":2,"./wordarray":26}],18:[function(t,e,r){(function(){var e={}.hasOwnProperty,n=t("./wordarray").WordArray,i=t("./sha256").SHA256,s=(()=>{var t,r=a,s=i;for(t in s)e.call(s,t)&&(r[t]=s[t]);function o(){this.constructor=r}function a(){return a.__super__.constructor.apply(this,arguments)}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,a.prototype.output_size=a.output_size=28,a.prototype._doReset=function(){return this._hash=new n([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},a.prototype._doFinalize=function(){var t=a.__super__._doFinalize.call(this);return t.sigBytes-=4,t},a.prototype.clone=function(){var t=new a;return this.copy_to(t),t},a})();r.SHA224=s,r.transform=function(t){var e=(new s).finalize(t);return t.scrub(),e}}).call(this)},{"./sha256":19,"./wordarray":26}],19:[function(t,e,r){(function(){var e,n,i,s,o,a={}.hasOwnProperty;function u(){this.H=[],this.K=[],this.W=[],this.init()}i=t("./wordarray").WordArray,e=t("./algbase").Hasher,u.prototype.isPrime=function(t){var e,r,n;if(2!==t&&3!==t&&5!==t&&7!==t){if(1===t||4===t||6===t||8===t||9===t)return!1;for(r=Math.ceil(Math.sqrt(t)),e=n=2;2<=r?n<=r:r<=n;e=2<=r?++n:--n)if(t%e==0)return!1}return!0},u.prototype.getFractionalBits=function(t){return 4294967296*(t-(0|t))|0},u.prototype.init=function(){for(var t=2,e=0,r=[];e<64;)this.isPrime(t)&&(e<8&&(this.H[e]=this.getFractionalBits(Math.pow(t,.5))),this.K[e]=this.getFractionalBits(Math.pow(t,1/3)),e++),r.push(t++);return r},s=new u,n=(()=>{var t,r=u,n=e;for(t in n)a.call(n,t)&&(r[t]=n[t]);function o(){this.constructor=r}function u(){return u.__super__.constructor.apply(this,arguments)}return o.prototype=n.prototype,r.prototype=new o,r.__super__=n.prototype,u.prototype.blockSize=u.blockSize=16,u.prototype.output_size=u.output_size=32,u.prototype._doReset=function(){return this._hash=new i(s.H.slice(0))},u.prototype.get_output_size=function(){return this.output_size},u.prototype._doProcessBlock=function(t,e){for(var r,n,i,o=this._hash.words,a=s.W,u=s.K,c=o[0],h=o[1],f=o[2],l=o[3],p=o[4],_=o[5],d=o[6],y=o[7],g=i=0;i<64;g=++i)g<16?a[g]=0|t[e+g]:(r=a[g-15],n=a[g-2],a[g]=((r<<25|r>>>7)^(r<<14|r>>>18)^r>>>3)+a[g-7]+((n<<15|n>>>17)^(n<<13|n>>>19)^n>>>10)+a[g-16]),r=c&h^c&f^h&f,n=y+((p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25))+(p&_^~p&d)+u[g]+a[g],y=d,d=_,_=p,p=l+n|0,l=f,f=h,c=n+((((h=c)<<30|c>>>2)^(c<<19|c>>>13)^(c<<10|c>>>22))+r)|0;return o[0]=o[0]+c|0,o[1]=o[1]+h|0,o[2]=o[2]+f|0,o[3]=o[3]+l|0,o[4]=o[4]+p|0,o[5]=o[5]+_|0,o[6]=o[6]+d|0,o[7]=o[7]+y|0},u.prototype._doFinalize=function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(64+n>>>9<<4)]=Math.floor(r/4294967296),e[15+(64+n>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},u.prototype.scrub=function(){return this._hash.scrub()},u.prototype.copy_to=function(t){return u.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},u.prototype.clone=function(){var t=new u;return this.copy_to(t),t},u})(),o=function(t){var e=(new n).finalize(t);return t.scrub(),e},r.SHA256=n,r.transform=o}).call(this)},{"./algbase":2,"./wordarray":26}],20:[function(t,e,r){(function(){var e=t("./keccak");r.SHA3=e.KECCAK,r.transform=e.transform}).call(this)},{"./keccak":9}],21:[function(t,e,r){(function(){var e={}.hasOwnProperty,n=(a=t("./wordarray")).X64WordArray,i=(a=t("./sha512")).SHA512,s=a.Global,o=(()=>{var t,r=u,o=i;for(t in o)e.call(o,t)&&(r[t]=o[t]);function a(){this.constructor=r}function u(){return u.__super__.constructor.apply(this,arguments)}return a.prototype=o.prototype,r.prototype=new a,r.__super__=o.prototype,u.prototype.output_size=u.output_size=48,u.prototype._doReset=function(){return this._hash=new n(s.convert([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]))},u.prototype._doFinalize=function(){var t=u.__super__._doFinalize.call(this);return t.sigBytes-=16,t},u.prototype.clone=function(){var t=new u;return this.copy_to(t),t},u})(),a=function(t){var e=(new o).finalize(t);return t.scrub(),e};r.SHA384=o,r.transform=a}).call(this)},{"./sha512":23,"./wordarray":26}],22:[function(t,e,r){(function(){var e={}.hasOwnProperty,n=(t("./wordarray").WordArray,t("./algbase").Hasher,t("./keccak").KECCAK),i=(()=>{var t,r=o,i=n;for(t in i)e.call(i,t)&&(r[t]=i[t]);function s(){this.constructor=r}function o(){return o.__super__.constructor.apply(this,arguments)}return s.prototype=i.prototype,r.prototype=new s,r.__super__=i.prototype,o.prototype.pad=6,o})();r.SHA3STD=i,r.transform=function(t){var e=(new i).finalize(t);return t.scrub(),e}}).call(this)},{"./algbase":2,"./keccak":9,"./wordarray":26}],23:[function(t,e,r){(function(){var e,n,i,s,o,a,u={}.hasOwnProperty;function c(){this.K=this.convert([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]),this.I=new s(this.convert([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])),this.W=(()=>{var t,e=[];for(t=0;t<80;++t)e.push(new i(0,0));return e})()}a=t("./wordarray"),i=a.X64Word,s=a.X64WordArray,e=t("./algbase").Hasher,c.convert=function(t){for(var e,r=[],n=e=0,s=t.length;e<s;n=e+=2)r.push(new i(t[n],t[n+1]));return r},c.prototype.convert=function(t){return c.convert(t)},r.Global=a=c,o=new a,r.SHA512=n=(()=>{var t,r=s,n=e;for(t in n)u.call(n,t)&&(r[t]=n[t]);function i(){this.constructor=r}function s(){return s.__super__.constructor.apply(this,arguments)}return i.prototype=n.prototype,r.prototype=new i,r.__super__=n.prototype,s.prototype.blockSize=s.blockSize=32,s.prototype.output_size=s.output_size=64,s.prototype._doReset=function(){return this._hash=o.I.clone()},s.prototype._doProcessBlock=function(t,e){for(var r,n,i,s,a,u,c,h,f,l,p,_,d,y=this._hash.words,g=o.W,w=y[0],m=y[1],b=y[2],v=y[3],k=y[4],B=y[5],S=y[6],A=(y=y[7],w.high),D=w.low,E=m.high,T=m.low,x=b.high,P=b.low,U=v.high,C=v.low,O=k.high,M=k.low,I=B.high,z=B.low,R=S.high,N=S.low,L=y.high,j=y.low,F=A,K=D,V=E,H=T,X=x,Y=P,W=U,q=C,G=O,$=M,J=I,Z=z,Q=R,tt=N,et=L,rt=j,nt=d=0;d<80;nt=++d)f=g[nt],nt<16?(i=f.high=0|t[e+2*nt],s=f.low=0|t[e+2*nt+1]):(p=(c=g[nt-15]).high,h=(u=g[nt-2]).high,a=(n=g[nt-7]).high,r=(l=g[nt-16]).high,i=(i=((p>>>1|(c=c.low)<<31)^(p>>>8|c<<24)^p>>>7)+a+((s=(a=(c>>>1|p<<31)^(c>>>8|p<<24)^(c>>>7|p<<25))+n.low)>>>0<a>>>0?1:0))+((h>>>19|(c=u.low)<<13)^(h<<3|c>>>29)^h>>>6)+((s+=p=(c>>>19|h<<13)^(c<<3|h>>>29)^(c>>>6|h<<26))>>>0<p>>>0?1:0),s+=n=l.low,f.high=i=i+r+(s>>>0<n>>>0?1:0),f.low=s),a=G&J^~G&Q,u=$&Z^~$&tt,c=F&V^F&X^V&X,h=K&H^K&Y^H&Y,l=et+((G>>>14|$<<18)^(G>>>18|$<<14)^(G<<23|$>>>9))+((p=rt+(($>>>14|G<<18)^($>>>18|G<<14)^($<<23|G>>>9)))>>>0<rt>>>0?1:0),et=Q,rt=tt,Q=J,tt=Z,J=G,Z=$,G=W+(l=l+a+((p+=u)>>>0<u>>>0?1:0)+(r=o.K[nt]).high+((p+=n=r.low)>>>0<n>>>0?1:0)+i+((p+=s)>>>0<s>>>0?1:0))+(($=q+p|0)>>>0<q>>>0?1:0)|0,W=X,q=Y,X=V,Y=H,F=l+((((V=F)>>>28|(H=K)<<4)^(F<<30|K>>>2)^(F<<25|K>>>7))+c+((_=(f=(K>>>28|F<<4)^(K<<30|F>>>2)^(K<<25|F>>>7))+h)>>>0<f>>>0?1:0))+((K=p+_|0)>>>0<p>>>0?1:0)|0;return D=w.low=D+K,w.high=A+F+(D>>>0<K>>>0?1:0),T=m.low=T+H,m.high=E+V+(T>>>0<H>>>0?1:0),P=b.low=P+Y,b.high=x+X+(P>>>0<Y>>>0?1:0),C=v.low=C+q,v.high=U+W+(C>>>0<q>>>0?1:0),M=k.low=M+$,k.high=O+G+(M>>>0<$>>>0?1:0),z=B.low=z+Z,B.high=I+J+(z>>>0<Z>>>0?1:0),N=S.low=N+tt,S.high=R+Q+(N>>>0<tt>>>0?1:0),j=y.low=j+rt,y.high=L+et+(j>>>0<rt>>>0?1:0)},s.prototype._doFinalize=function(){var t=this._data.words,e=8*this._nDataBytes,r=8*this._data.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(128+r>>>10<<5)]=Math.floor(e/4294967296),t[31+(128+r>>>10<<5)]=e,this._data.sigBytes=4*t.length,this._process(),this._hash.toX32()},s.prototype.copy_to=function(t){return s.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},s.prototype.clone=function(){var t=new s;return this.copy_to(t),t},s})(),r.transform=function(t){var e=(new n).finalize(t);return t.scrub(),e}}).call(this)},{"./algbase":2,"./wordarray":26}],24:[function(t,e,r){(function(){var e={}.hasOwnProperty,n=t("./algbase").BlockCipher,i=t("./util").scrub_vec,s=new function(){this.P=[[169,103,179,232,4,253,163,118,154,146,128,120,228,221,209,56,13,198,53,152,24,247,236,108,67,117,55,38,250,19,148,72,242,208,139,48,132,84,223,35,25,91,61,89,243,174,162,130,99,1,131,46,217,81,155,124,166,235,165,190,22,12,227,97,192,140,58,245,115,44,37,11,187,78,137,107,83,106,180,241,225,230,189,69,226,244,182,102,204,149,3,86,212,28,30,215,251,195,142,181,233,207,191,186,234,119,57,175,51,201,98,113,129,121,9,173,36,205,249,216,229,197,185,77,68,8,134,231,161,29,170,237,6,112,178,210,65,123,160,17,49,194,39,144,32,246,96,255,150,92,177,171,158,156,82,27,95,147,10,239,145,133,73,238,45,79,143,59,71,135,109,70,214,62,105,100,42,206,203,47,252,151,5,122,172,127,213,26,75,14,167,90,40,20,63,41,136,60,76,2,184,218,176,23,85,31,138,125,87,199,141,116,183,196,159,114,126,21,34,18,88,7,153,52,110,80,222,104,101,188,219,248,200,168,43,64,220,254,50,164,202,16,33,240,211,93,15,0,111,157,54,66,74,94,193,224],[117,243,198,244,219,123,251,200,74,211,230,107,69,125,232,75,214,50,216,253,55,113,241,225,48,15,248,27,135,250,6,63,94,186,174,91,138,0,188,157,109,193,177,14,128,93,210,213,160,132,7,20,181,144,44,163,178,115,76,84,146,116,54,81,56,176,189,90,252,96,98,150,108,66,247,16,124,40,39,140,19,149,156,199,36,70,59,112,202,227,133,203,17,208,147,184,166,131,32,255,159,119,195,204,3,111,8,191,64,231,43,226,121,12,170,130,65,58,234,185,228,154,164,151,126,218,122,23,102,148,161,29,61,240,222,179,11,114,167,28,239,209,83,62,143,51,38,95,236,118,42,73,129,136,238,33,196,26,235,217,197,57,153,205,173,49,139,1,24,35,221,31,78,45,249,72,79,242,101,142,120,92,88,25,141,229,152,87,103,127,5,100,175,99,182,254,245,183,60,165,206,233,104,68,224,77,67,105,41,46,172,21,89,168,10,158,110,71,223,52,53,106,207,220,34,201,192,155,137,212,237,171,18,162,13,82,187,2,47,169,215,97,30,180,80,4,246,194,22,37,134,86,85,9,190,145]],this.P_00=1,this.P_01=0,this.P_02=0,this.P_03=1,this.P_04=1,this.P_10=0,this.P_11=0,this.P_12=1,this.P_13=1,this.P_14=0,this.P_20=1,this.P_21=1,this.P_22=0,this.P_23=0,this.P_24=0,this.P_30=0,this.P_31=1,this.P_32=1,this.P_33=0,this.P_34=1,this.GF256_FDBK=361,this.GF256_FDBK_2=this.GF256_FDBK/2,this.GF256_FDBK_4=this.GF256_FDBK/4,this.RS_GF_FDBK=333,this.SK_STEP=33686018,this.SK_BUMP=16843009,this.SK_ROTL=9};r.TwoFish=(()=>{var t,r=u,o=n;for(t in o)e.call(o,t)&&(r[t]=o[t]);function a(){this.constructor=r}function u(t){this._key=t.clone(),this.gMDS0=[],this.gMDS1=[],this.gMDS2=[],this.gMDS3=[],this.gSubKeys=[],this.gSBox=[],this.k64Cnt=0,this._doReset()}return a.prototype=o.prototype,r.prototype=new a,r.__super__=o.prototype,u.prototype.blockSize=u.blockSize=16,u.prototype.keySize=u.keySize=32,u.prototype.ivSize=u.ivSize=u.blockSize,u.prototype.getByte=function(t,e){return t>>>8*e&255},u.prototype.switchEndianness=function(t){return(255&t)<<24|(t>>8&255)<<16|(t>>16&255)<<8|t>>24&255},u.prototype.LFSR1=function(t){return t>>1^(0!=(1&t)?s.GF256_FDBK_2:0)},u.prototype.LFSR2=function(t){return t>>2^(0!=(2&t)?s.GF256_FDBK_2:0)^(0!=(1&t)?s.GF256_FDBK_4:0)},u.prototype.Mx_X=function(t){return t^this.LFSR2(t)},u.prototype.Mx_Y=function(t){return t^this.LFSR1(t)^this.LFSR2(t)},u.prototype.RS_rem=function(t){var e=t>>>24&255,r=255&(e<<1^(0!=(128&e)?s.RS_GF_FDBK:0)),n=e>>>1^(0!=(1&e)?s.RS_GF_FDBK>>>1:0)^r;return t<<8^n<<24^r<<16^n<<8^e},u.prototype.RS_MDS_Encode=function(t,e){var r,n,i=e;for(r=0;r<4;++r)i=this.RS_rem(i);for(i^=t,n=0;n<4;++n)i=this.RS_rem(i);return i},u.prototype.F32=function(t,e){var r=this.getByte(t,0),n=this.getByte(t,1),i=this.getByte(t,2),o=(t=this.getByte(t,3),e[0]),a=e[1],u=e[2],c=(e=e[3],3&this.k64Cnt);return 1==c?this.gMDS0[255&s.P[s.P_01][r]^this.getByte(o,0)]^this.gMDS1[255&s.P[s.P_11][n]^this.getByte(o,1)]^this.gMDS2[255&s.P[s.P_21][i]^this.getByte(o,2)]^this.gMDS3[255&s.P[s.P_31][t]^this.getByte(o,3)]:(0==c&&(r=255&s.P[s.P_04][r]^this.getByte(e,0),n=255&s.P[s.P_14][n]^this.getByte(e,1),i=255&s.P[s.P_24][i]^this.getByte(e,2),t=255&s.P[s.P_34][t]^this.getByte(e,3)),0!=c&&3!=c||(r=255&s.P[s.P_03][r]^this.getByte(u,0),n=255&s.P[s.P_13][n]^this.getByte(u,1),i=255&s.P[s.P_23][i]^this.getByte(u,2),t=255&s.P[s.P_33][t]^this.getByte(u,3)),this.gMDS0[255&s.P[s.P_01][255&s.P[s.P_02][r]^this.getByte(a,0)]^this.getByte(o,0)]^this.gMDS1[255&s.P[s.P_11][255&s.P[s.P_12][n]^this.getByte(a,1)]^this.getByte(o,1)]^this.gMDS2[255&s.P[s.P_21][255&s.P[s.P_22][i]^this.getByte(a,2)]^this.getByte(o,2)]^this.gMDS3[255&s.P[s.P_31][255&s.P[s.P_32][t]^this.getByte(a,3)]^this.getByte(o,3)])},u.prototype.Fe32_0=function(t){return this.gSBox[0+2*(255&t)]^this.gSBox[1+2*(t>>>8&255)]^this.gSBox[512+2*(t>>>16&255)]^this.gSBox[513+2*(t>>>24&255)]},u.prototype.Fe32_3=function(t){return this.gSBox[0+2*(t>>>24&255)]^this.gSBox[1+2*(255&t)]^this.gSBox[512+2*(t>>>8&255)]^this.gSBox[513+2*(t>>>16&255)]},u.prototype._doReset=function(){var t,e,r,n,i,o,a,u,c,h,f,l,p,_,d,y,g,w,m,b,v=[],k=[],B=[],S=[],A=[],D=[];if(this.k64Cnt=this._key.words.length/2,this.k64Cnt<1)throw"Key size less than 64 bits";if(4<this.k64Cnt)throw"Key size larger than 256 bits";for(o=d=0;d<256;o=++d)a=255&s.P[0][o],A[0]=255&this.Mx_X(S[0]=a),D[0]=255&this.Mx_Y(a),a=255&s.P[1][o],A[1]=255&this.Mx_X(S[1]=a),D[1]=255&this.Mx_Y(a),this.gMDS0[o]=S[s.P_00]|A[s.P_00]<<8|D[s.P_00]<<16|D[s.P_00]<<24,this.gMDS1[o]=D[s.P_10]|D[s.P_10]<<8|A[s.P_10]<<16|S[s.P_10]<<24,this.gMDS2[o]=A[s.P_20]|D[s.P_20]<<8|S[s.P_20]<<16|D[s.P_20]<<24,this.gMDS3[o]=A[s.P_30]|S[s.P_30]<<8|D[s.P_30]<<16|A[s.P_30]<<24;for(o=y=0,m=this.k64Cnt;0<=m?y<m:m<y;o=0<=m?++y:--y)v[o]=this.switchEndianness(this._key.words[p=2*o]),k[o]=this.switchEndianness(this._key.words[1+p]),B[this.k64Cnt-1-o]=this.RS_MDS_Encode(v[o],k[o]);for(o=g=0;g<20;o=++g)_=o*s.SK_STEP,t=this.F32(_,v),t+=_=(_=this.F32(_+s.SK_BUMP,k))<<8|_>>>24,this.gSubKeys[2*o]=t,this.gSubKeys[2*o+1]=(t+=_)<<s.SK_ROTL|t>>>32-s.SK_ROTL;for(u=B[0],c=B[1],h=B[2],f=B[3],this.gSBox=[],b=[],o=w=0;w<256;o=++w)e=r=n=i=o,1==(l=3&this.k64Cnt)?(this.gSBox[2*o]=this.gMDS0[255&s.P[s.P_01][e]^this.getByte(u,0)],this.gSBox[2*o+1]=this.gMDS1[255&s.P[s.P_11][r]^this.getByte(u,1)],this.gSBox[2*o+512]=this.gMDS2[255&s.P[s.P_21][n]^this.getByte(u,2)],b.push(this.gSBox[2*o+513]=this.gMDS3[255&s.P[s.P_31][i]^this.getByte(u,3)])):(0==l&&(e=255&s.P[s.P_04][e]^this.getByte(f,0),r=255&s.P[s.P_14][r]^this.getByte(f,1),n=255&s.P[s.P_24][n]^this.getByte(f,2),i=255&s.P[s.P_34][i]^this.getByte(f,3)),0!=l&&3!=l||(e=255&s.P[s.P_03][e]^this.getByte(h,0),r=255&s.P[s.P_13][r]^this.getByte(h,1),n=255&s.P[s.P_23][n]^this.getByte(h,2),i=255&s.P[s.P_33][i]^this.getByte(h,3)),this.gSBox[2*o]=this.gMDS0[255&s.P[s.P_01][255&s.P[s.P_02][e]^this.getByte(c,0)]^this.getByte(u,0)],this.gSBox[2*o+1]=this.gMDS1[255&s.P[s.P_11][255&s.P[s.P_12][r]^this.getByte(c,1)]^this.getByte(u,1)],this.gSBox[2*o+512]=this.gMDS2[255&s.P[s.P_21][255&s.P[s.P_22][n]^this.getByte(c,2)]^this.getByte(u,2)],b.push(this.gSBox[2*o+513]=this.gMDS3[255&s.P[s.P_31][255&s.P[s.P_32][i]^this.getByte(c,3)]^this.getByte(u,3)]));return b},u.prototype.scrub=function(){return i(this.gSubKeys),i(this.gSBox),this._key.scrub()},u.prototype.decryptBlock=function(t,e){var r,n,i,s=this.switchEndianness(t[e=null==e?0:e])^this.gSubKeys[4],o=this.switchEndianness(t[e+1])^this.gSubKeys[5],a=this.switchEndianness(t[e+2])^this.gSubKeys[6],u=this.switchEndianness(t[e+3])^this.gSubKeys[7],c=39;for(i=0;i<16;i+=2)u^=(r=this.Fe32_0(s))+2*(n=this.Fe32_3(o))+this.gSubKeys[c--],a=(a<<1|a>>>31)^r+n+this.gSubKeys[c--],u=u>>>1|u<<31,o^=(r=this.Fe32_0(a))+2*(n=this.Fe32_3(u))+this.gSubKeys[c--],s=(s<<1|s>>>31)^r+n+this.gSubKeys[c--],o=o>>>1|o<<31;return t[e]=this.switchEndianness(a^this.gSubKeys[0]),t[e+1]=this.switchEndianness(u^this.gSubKeys[1]),t[e+2]=this.switchEndianness(s^this.gSubKeys[2]),t[e+3]=this.switchEndianness(o^this.gSubKeys[3])},u.prototype.encryptBlock=function(t,e){var r,n,i,s=this.switchEndianness(t[e=null==e?0:e])^this.gSubKeys[0],o=this.switchEndianness(t[e+1])^this.gSubKeys[1],a=this.switchEndianness(t[e+2])^this.gSubKeys[2],u=this.switchEndianness(t[e+3])^this.gSubKeys[3],c=8;for(i=0;i<16;i+=2)a^=(r=this.Fe32_0(s))+(n=this.Fe32_3(o))+this.gSubKeys[c++],u=(u<<1|u>>>31)^r+2*n+this.gSubKeys[c++],s=(s^=(r=this.Fe32_0(a=a>>>1|a<<31))+(n=this.Fe32_3(u))+this.gSubKeys[c++])>>>1|s<<31,o=(o<<1|o>>>31)^r+2*n+this.gSubKeys[c++];return t[e]=this.switchEndianness(a^this.gSubKeys[4]),t[e+1]=this.switchEndianness(u^this.gSubKeys[5]),t[e+2]=this.switchEndianness(s^this.gSubKeys[6]),t[e+3]=this.switchEndianness(o^this.gSubKeys[7])},u})()}).call(this)},{"./algbase":2,"./util":25}],25:[function(t,e,r){(function(e,n){(function(){var i,s=t("iced-runtime"),o=Math.pow(2,32);r.fixup_uint32=function(t){var e;return o<t||t<0?(e=Math.abs(t)%o,t<0?o-e:e):t},r.scrub_buffer=function(t){for(var e=t.length>>2,r=0;r<e;)t.writeUInt32LE(0,r),r+=4;for(;r<t.length;)t.writeUInt8(0,r),r++;return!1},r.copy_buffer=function(t){for(var r,n=e.alloc(t.length),i=r=0,s=t.length;0<=s?r<s:s<r;i=0<=s?++r:--r)n.writeUInt8(t.readUInt8(i),i);return n},r.scrub_vec=function(t){for(var e,r=e=0,n=t.length;0<=n?e<n:n<e;r=0<=n?++e:--e)t[r]=0;return!1},r.default_delay=i=function(t,e,r){var i,o=s.findDeferral(arguments),a=function(){return r()};null!=n?(i=new s.Deferrals(a,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/util.iced"}),n(i.defer({lineno:45}))):(i=new s.Deferrals(a,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/util.iced"}),setTimeout(i.defer({lineno:47}),1)),i._fulfill()},r.buffer_cmp_ule=function(t,e){for(var r,n,i,s=r=0,o=t.length,a=e.length;s<o&&0===t.readUInt8(s);)s++;for(;r<a&&0===e.readUInt8(r);)r++;if(a-r<o-s)return 1;if(o-s<a-r)return-1;for(;s<o;){if((n=t.readUInt8(s))<(i=e.readUInt8(r)))return-1;if(i<n)return 1;s++,r++}return 0},r.bulk=function(t,e,r){var n,o,a,u,c=s.findDeferral(arguments),h=e.update,f=e.finalize,l=(e=e.default_n,r.delay),p=r.n,_=r.cb,d=r.what,y=r.progress_hook,g=0,w=0,m=Math.ceil(t/4),b=(r=(l=l||i,p=p||e,(n=function(t){return"function"==typeof y?y({what:d,i:t,total:m}):void 0})(0),function(){return n(m),a=f(),_(a)}),function(t){if(!(0<(w=m-g)))return t();o=Math.min(p,w),h(g,g+o),n(g),u=new s.Deferrals((function(){return g+=o,s.trampoline((function(){return b(t)}))}),{parent:c,filename:"/Users/max/src/keybase/triplesec/src/util.iced",funcname:"bulk"}),l(g,m,u.defer({lineno:105})),u._fulfill()});b(r)}}).call(this)}).call(this,t("buffer").Buffer,t("timers").setImmediate)},{buffer:27,"iced-runtime":33,timers:40}],26:[function(t,e,r){(function(e){(function(){var n,i,s,o,a;function u(t,e){this.words=t||[],this.sigBytes=null!=e?e:4*this.words.length}function c(t,e){this.high=t,this.low=e}function h(t,e){this.sigBytes=e,this.words=t||[],this.sigBytes||(this.sigBytes=8*this.words.length)}a=t("./util"),i=function(t){for(var e,r=new Uint8Array(t.length),n=e=0,i=t.length;0<=i?e<i:i<e;n=0<=i?++e:--e)r[n]=t.readUInt8(n);return r},o=function(t){for(var r,n=e.alloc(t.length),i=r=0,s=t.length;0<=s?r<s:s<r;i=0<=s?++r:--r)n.writeUInt8(t[i],i);return n},s=function(t){return t>>>24&255|(t>>>16&255)<<8|(t>>>8&255)<<16|(255&t)<<24},r.WordArray=(u.prototype.concat=function(t){var e,r,n,i=t.words,s=t.sigBytes;if(this.clamp(),this.sigBytes%4)for(e=n=0;0<=s?n<s:s<n;e=0<=s?++n:--n)r=i[e>>>2]>>>24-e%4*8&255,this.words[this.sigBytes+e>>>2]|=r<<24-(this.sigBytes+e)%4*8;else this.words=this.words.concat(i);return this.sigBytes+=s,this},u.prototype.clamp=function(){return this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this},u.prototype.clone=function(){return new u(this.words.slice(0),this.sigBytes)},u.prototype.to_buffer=function(){for(var t,r,n=e.alloc(this.sigBytes),i=0,s=this.words,o=0,u=s.length;o<u;o++)r=s[o],4<=this.sigBytes-i&&(r=a.fixup_uint32(r),n.writeUInt32BE(r,i),i+=4);for(;i<this.sigBytes;)t=this.words[i>>>2]>>>24-i%4*8&255,n.writeUInt8(t,i),i++;return n},u.prototype.endian_reverse=function(){for(var t,e,r=this.words,n=e=0,i=r.length;e<i;n=++e)t=r[n],this.words[n]=s(t);return this},u.prototype.split=function(t){var e,r;if(this.sigBytes%4!=0||this.words.length%t!=0)throw new Error("bad key alignment");return r=this.words.length/t,function(){var t,n,i=[];for(e=t=0,n=this.words.length;0<r?t<n:n<t;e=t+=r)i.push(new u(this.words.slice(e,e+r)));return i}.call(this)},u.prototype.to_utf8=function(){return this.to_buffer().toString("utf8")},u.prototype.to_hex=function(){return this.to_buffer().toString("hex")},u.prototype.to_ui8a=function(){return i(this.to_buffer())},u.alloc=function(t){return e.isBuffer(t)?u.from_buffer(t):"object"==typeof t&&t instanceof u?t:"string"==typeof t?u.from_hex(t):null},u.from_buffer=function(t){for(var e,r=[],n=0;4<=t.length-n;)r.push(t.readUInt32BE(n)),n+=4;if(n<t.length){for(e=0;n<t.length;)e|=t.readUInt8(n)<<24-n%4*8,n++;e=a.fixup_uint32(e),r.push(e)}return new u(r,t.length)},u.from_buffer_le=function(t){for(var e,r=[],n=0;4<=t.length-n;)r.push(t.readUInt32LE(n)),n+=4;if(n<t.length){for(e=0;n<t.length;)e|=t.readUInt8(n)<<n%4*8,n++;e=a.fixup_uint32(e),r.push(e)}return new u(r,t.length)},u.from_utf8=function(t){return u.from_buffer(e.from(t,"utf8"))},u.from_utf8_le=function(t){return u.from_buffer_le(e.from(t,"utf8"))},u.from_hex=function(t){return u.from_buffer(e.from(t,"hex"))},u.from_hex_le=function(t){return u.from_buffer_le(e.from(t,"hex"))},u.from_ui8a=function(t){return u.from_buffer(o(t))},u.from_i32a=function(t){return new u(Array.apply([],t))},u.prototype.equal=function(t){var e,r,n,i,s,o=!0;if(t.sigBytes!==this.sigBytes)o=!1;else for(e=n=0,i=(s=this.words).length;n<i;e=++n)r=s[e],a.fixup_uint32(r)!==a.fixup_uint32(t.words[e])&&(o=!1);return o},u.prototype.xor=function(t,e){var r,n,i,s=e.dst_offset,o=e.src_offset,u=e.n_words;if(o=o||0,null==u&&(u=t.words.length-o),this.words.length<(s=s||0)+u)throw new Error("dest range exceeded ("+this.words.length+" < "+(s+u)+")");if(t.words.length<o+u)throw new Error("source range exceeded");for(r=i=0;0<=u?i<u:u<i;r=0<=u?++i:--i)n=this.words[s+r]^t.words[o+r],this.words[s+r]=a.fixup_uint32(n);return this},u.prototype.truncate=function(t){var e;if(t<=this.sigBytes)return e=Math.ceil(t/4),new u(this.words.slice(0,e),t);throw new Error("Cannot truncate: "+t+" > "+this.sigBytes)},u.prototype.unshift=function(t){var e;return this.words.length>=t?(e=this.words.splice(0,t),this.sigBytes-=4*t,new u(e)):null},u.prototype.is_scrubbed=function(){for(var t=this.words,e=0,r=t.length;e<r;e++)if(0!==t[e])return!1;return!0},u.prototype.scrub=function(){return a.scrub_vec(this.words)},u.prototype.cmp_ule=function(t){return a.buffer_cmp_ule(this.to_buffer(),t.to_buffer())},u.prototype.slice=function(t,e){var r,n=this.words.length;if(t<e&&e<=n)return r=4*(e-t),e===n&&(r-=4*n-this.sigBytes),new u(this.words.slice(t,e),r);throw new Error("Bad WordArray slice ["+t+","+e+")] when only "+n+" avail")},n=u),r.X64Word=(c.prototype.clone=function(){return new c(this.high,this.low)},c),r.X64WordArray=(h.prototype.toX32=function(){for(var t,e=[],r=this.words,i=0,s=r.length;i<s;i++)t=r[i],e.push(t.high),e.push(t.low);return new n(e,this.sigBytes)},h.prototype.clone=function(){var t;return new h(function(){for(var e=this.words,r=[],n=0,i=e.length;n<i;n++)t=e[n],r.push(t.clone());return r}.call(this),this.sigBytes)},h),r.buffer_to_ui8a=i,r.ui8a_to_buffer=o,r.endian_reverse=s}).call(this)}).call(this,t("buffer").Buffer)},{"./util":25,buffer:27}],27:[function(t,e,r){var n=t("base64-js"),i=t("ieee754"),s=(r.Buffer=a,r.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},r.INSPECT_MAX_BYTES=50,2147483647);function o(t){if(s<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');return(t=new Uint8Array(t)).__proto__=a.prototype,t}function a(t,e,r){if("number"!=typeof t)return u(t,e,r);if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}function u(t,e,r){if("string"==typeof t){var n=t,i=e;if(a.isEncoding(i="string"==typeof i&&""!==i?i:"utf8"))return(n=(u=o(s=0|p(n,i))).write(n,i))!==s?u.slice(0,n):u;throw new TypeError("Unknown encoding: "+i)}if(ArrayBuffer.isView(t))return f(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(U(t,ArrayBuffer)||t&&U(t.buffer,ArrayBuffer)){var s=t,u=r;if((n=e)<0||s.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<n+(u||0))throw new RangeError('"length" is outside of buffer bounds');return(s=void 0===n&&void 0===u?new Uint8Array(s):void 0===u?new Uint8Array(s,n):new Uint8Array(s,n,u)).__proto__=a.prototype,s}if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(i=t.valueOf&&t.valueOf())&&i!==t)return a.from(i,e,r);var c=(t=>{var e,r;return a.isBuffer(t)?(0!==(r=o(e=0|l(t.length))).length&&t.copy(r,0,0,e),r):void 0!==t.length?"number"!=typeof t.length||C(t.length)?o(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0})(t);if(c)return c;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return c(t),o(t<0?0:0|l(t))}function f(t){for(var e=t.length<0?0:0|l(t.length),r=o(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function l(t){if(s<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function p(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||U(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return T(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return x(t).length;default:if(i)return n?-1:T(t).length;e=(""+e).toLowerCase(),i=!0}}function _(t,e,r){var i,s=!1;if((e=void 0===e||e<0?0:e)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":var o=e,a=r,u=this.length;(!a||a<0||u<a)&&(a=u);for(var c="",h=o=!o||o<0?0:o;h<a;++h)c+=(t=>t<16?"0"+t.toString(16):t.toString(16))(this[h]);return c;case"utf8":case"utf-8":return b(this,e,r);case"ascii":u=e;var f=r,l="";f=Math.min(this.length,f);for(var p=u;p<f;++p)l+=String.fromCharCode(127&this[p]);return l;case"latin1":case"binary":o=e;var _=r,d="";_=Math.min(this.length,_);for(var y=o;y<_;++y)d+=String.fromCharCode(this[y]);return d;case"base64":return g=this,i=r,0===(w=e)&&i===g.length?n.fromByteArray(g):n.fromByteArray(g.slice(w,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var g=e,w=r,m=this.slice(g,w),v="",k=0;k<m.length;k+=2)v+=String.fromCharCode(m[k]+256*m[k+1]);return v;default:if(s)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),(r=C(r=+r)?i?0:t.length-1:r)<0&&(r=t.length+r),t.length<=r){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:g(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,r):g(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,r,n,i){var s=1,o=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o/=s=2,a/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i)for(var c=-1,h=r;h<o;h++)if(u(t,h)===u(e,-1===c?0:h-c)){if(h-(c=-1===c?h:c)+1===a)return c*s}else-1!==c&&(h-=h-c),c=-1;else for(h=r=o<r+a?o-a:r;0<=h;h--){for(var f=!0,l=0;l<a;l++)if(u(t,h+l)!==u(e,l)){f=!1;break}if(f)return h}return-1}function w(t,e,r,n){return P((t=>{for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e})(e),t,r,n)}function m(t,e,r,n){return P(((t,e)=>{for(var r,n,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i})(e,t.length-r),t,r,n)}function b(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,u,c=t[i],h=null,f=239<c?4:223<c?3:191<c?2:1;if(i+f<=r)switch(f){case 1:c<128&&(h=c);break;case 2:128==(192&(s=t[i+1]))&&127<(u=(31&c)<<6|63&s)&&(h=u);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&2047<(u=(15&c)<<12|(63&s)<<6|63&o)&&(u<55296||57343<u)&&(h=u);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&65535<(u=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)&&u<1114112&&(h=u)}null===h?(h=65533,f=1):65535<h&&(n.push((h-=65536)>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=f}var l=n,p=l.length;if(p<=v)return String.fromCharCode.apply(String,l);for(var _="",d=0;d<p;)_+=String.fromCharCode.apply(String,l.slice(d,d+=v));return _}r.kMaxLength=s,(a.TYPED_ARRAY_SUPPORT=(()=>{try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}})())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=u,a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(t,e,r){return e=e,r=r,c(t=t),t<=0||void 0===e?o(t):"string"==typeof r?o(t).fill(e,r):o(t).fill(e)},a.allocUnsafe=h,a.allocUnsafeSlow=h,a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(U(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),U(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);if(void 0===e)for(i=e=0;i<t.length;++i)e+=t[i].length;for(var r=a.allocUnsafe(e),n=0,i=0;i<t.length;++i){var s=t[i];if(U(s,Uint8Array)&&(s=a.from(s)),!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,n),n+=s.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?b(this,0,t):_.apply(this,arguments)},a.prototype.equals=function(t){if(a.isBuffer(t))return this===t||0===a.compare(this,t);throw new TypeError("Argument must be a Buffer")},a.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim();return this.length>e&&(t+=" ... "),"<Buffer "+t+">"},a.prototype.compare=function(t,e,r,n,i){if(U(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),(e=void 0===e?0:e)<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=e)return 0;if(i<=n)return-1;if(r<=e)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),u=Math.min(s,o),c=this.slice(n,i),h=t.slice(e,r),f=0;f<u;++f)if(c[f]!==h[f]){s=c[f],o=h[f];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||i<r)&&(r=i),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var s,o,a,u=!1;;)switch(n){case"hex":var c=t,h=e,f=r,l=(h=Number(h)||0,this.length-h);(!f||l<(f=Number(f)))&&(f=l),(l=c.length)/2<f&&(f=l/2);for(var p=0;p<f;++p){var _=parseInt(c.substr(2*p,2),16);if(C(_))return p;this[h+p]=_}return p;case"utf8":case"utf-8":return l=e,a=r,P(T(t,(o=this).length-l),o,l,a);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return o=this,a=e,s=r,P(x(t),o,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,t,e,r);default:if(u)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),u=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var v=4096;function k(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,r,n,i,s){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function S(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function A(t,e,r,n,s){return e=+e,r>>>=0,s||S(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,s){return e=+e,r>>>=0,s||S(t,0,r,8),i.write(t,e,r,n,52,8),r+8}a.prototype.slice=function(t,e){var r=this.length;return(r=((t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t),this.subarray(t,e))).__proto__=a.prototype,r},a.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},a.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=this[t+--e],i=1;0<e&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=e,i=1,s=this[t+--n];0<n&&(i*=256);)s+=this[t+--n]*i;return(i*=128)<=s&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){return t>>>=0,e||k(t,2,this.length),32768&(e=this[t]|this[t+1]<<8)?4294901760|e:e},a.prototype.readInt16BE=function(t,e){return t>>>=0,e||k(t,2,this.length),32768&(e=this[t+1]|this[t]<<8)?4294901760|e:e},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||k(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||k(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||k(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||k(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||B(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},a.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||B(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;0<=--i&&(s*=256);)this[e+i]=t/s&255;return e+r},a.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,r,n){t=+t,e>>>=0,n||B(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){t=+t,e>>>=0,n||B(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=r-1,s=1,o=0;for(this[e+i]=255&t;0<=--i&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,1,127,-128),this[e]=255&(t=t<0?255+t+1:t),e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,2147483647,-2147483648),this[e]=(t=t<0?4294967295+t+1:t)>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,r){return A(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return A(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),e>=t.length&&(e=t.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var i=(n=t.length-e<n-r?t.length-e+r:n)-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var s=i-1;0<=s;--s)t[s+e]=this[s+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return i},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var i;1===t.length&&(i=t.charCodeAt(0),"utf8"===n&&i<128||"latin1"===n)&&(t=i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");var s;if(!(r<=e))if(e>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(t=t||0))for(s=e;s<r;++s)this[s]=t;else{var o=a.isBuffer(t)?t:a.from(t,n),u=o.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<r-e;++s)this[s+e]=o[s%u]}return this};var E=/[^+/0-9A-Za-z-_]/g;function T(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(55295<(r=t.charCodeAt(o))&&r<57344){if(!i){if(56319<r){-1<(e-=3)&&s.push(239,191,189);continue}if(o+1===n){-1<(e-=3)&&s.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(e-=3)&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&s.push(239,191,189);if(i=null,r<128){if(--e<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function x(t){return n.toByteArray((t=>{if((t=(t=t.split("=")[0]).trim().replace(E,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t})(t))}function P(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function U(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function C(t){return t!=t}},{"base64-js":28,ieee754:35}],28:[function(t,e,r){r.byteLength=function(t){return 3*((t=c(t))[0]+(t=t[1]))/4-t},r.toByteArray=function(t){for(var e,r=(n=c(t))[0],n=n[1],o=new s(((t,e)=>3*(t+e)/4-e)(r,n)),a=0,u=0<n?r-4:r,h=0;h<u;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===n&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,o[a++]=255&e),1===n&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e),o},r.fromByteArray=function(t){for(var e,r=t.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(((t,e,r)=>{for(var i,s=[],o=e;o<r;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push((t=>n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t])(i));return s.join("")})(t,o,a<o+16383?a:o+16383));return 1==i?(e=t[r-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2==i&&(e=(t[r-2]<<8)+t[r-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=o.length;a<u;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function c(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");return e=(t=-1===(t=t.indexOf("="))?e:t)===e?0:4-t%4,[t,e]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],29:[function(t,e,r){(function(){var e,n,i,s,o,a,u=[].slice;function c(t,e){this.gcb=t,this.where=e}function h(t,e){this.gcb=t,this.where=e}function f(t){this.klass=null!=t?t:Error,this._canceled=!1}a=t("util"),r.BaseError=e=function(t,e){return Error.captureStackTrace(this,this.constructor),this.message=t||"Error"},a.inherits(e,Error),e.prototype.name="BaseError",o=function(t){return t[0].toUpperCase()+t.slice(1).toLowerCase()},n=function(t){var e;return(()=>{for(var r=t.split(/_/),n=[],i=0,s=r.length;i<s;i++)e=r[i],n.push(o(e));return n})().join("")},s=function(t,r,n){var i=function(t){return e.call(this,t||n,this.constructor),this.istack=[],this.code=r,this};return a.inherits(i,e),i.prototype.name=t,i.prototype.inspect=function(){return"["+t+": "+this.message+" (code "+this.code+")]"},i},r.make_errors=function(t){var e,r,i,o,a,u={msg:{},name:{},code:{}};for(i in t.OK="Success",r=100,t)o=t[i],"OK"!==i?(a=r++,u[e=n(i)+"Error"]=s(e,a,o)):a=0,u[i]=a,u.msg[i]=u.msg[a]=o,u.name[i]=u.name[a]=i,u.code[i]=a;return u},i=function(t,e){if(null!=e)return null==t.istack&&(t.istack=[]),t.istack.push(e)},r.make_esc=function(t,e){return function(r){return function(){var n=arguments[0],s=2<=arguments.length?u.call(arguments,1):[];return null==n?r.apply(null,s):t.__esc?void 0:(t.__esc=!0,i(n,e),t(n))}}},r.EscOk=(c.prototype.bailout=function(){var t;if(this.gcb)return t=this.gcb,this.gcb=null,t(!1)},c.prototype.check_ok=function(t){return e=this,function(){var r=arguments[0],n=2<=arguments.length?u.call(arguments,1):[];return r?t.apply(null,n):e.bailout()};var e},c.prototype.check_err=function(t){return e=this,function(){var r=arguments[0],n=2<=arguments.length?u.call(arguments,1):[];return null!=r?(i(r,e.where),e.bailout()):t.apply(null,n)};var e},c.prototype.check_non_null=function(t){return e=this,function(){var r=1<=arguments.length?u.call(arguments,0):[];return null==r[0]?e.bailout():t.apply(null,r)};var e},c),r.EscErr=(h.prototype.finish=function(t){var e;if(this.gcb)return e=this.gcb,this.gcb=null,e(t)},h.prototype.check_ok=function(t,e,r){return null==e&&(e=Error),null==r&&(r=null),function(){var n=arguments[0],s=2<=arguments.length?u.call(arguments,1):[];return n?t.apply(null,s):(n=new e(r),i(n,this.where),this.finish(n))}},h.prototype.check_err=function(t){return function(){var e=arguments[0],r=2<=arguments.length?u.call(arguments,1):[];return null!=e?(i(e,this.where),this.finish(e)):t.apply(null,r)}},h),r.Canceler=(f.prototype.is_canceled=function(){return this._canceled},f.prototype.is_ok=function(){return!this._canceled},f.prototype.cancel=function(){return this._canceled=!0},f.prototype.err=function(){return this._canceled?new this.klass("Aborted"):null},f),r.chain=function(t,e){return function(){var r=1<=arguments.length?u.call(arguments,0):[];return e((function(){return t.apply(null,r)}))}},r.chain_err=function(t,e){return function(){var r=1<=arguments.length?u.call(arguments,0):[];return e((function(){var e=1<=arguments.length?u.call(arguments,0):[];return t.apply(null,null!=e[0]&&null==r[0]?e:r)}))}}}).call(this)},{util:42}],30:[function(t,e,r){(function(){var e,n,i,s,o={}.hasOwnProperty;function a(){this._open=!0,this._waiters=[]}function u(){this.locks={}}function c(t){this.table=t.table,this.key=t.key,this.seqid=null,this.waiter=null,this.open=!0,this.refs=0}function h(){this._jobs={}}s=t("iced-runtime"),r.Lock=(a.prototype.acquire=function(t){return this._open?(this._open=!1,t()):this._waiters.push(t)},a.prototype.release=function(){return this._waiters.length?this._waiters.shift()():this._open=!0},a.prototype.open=function(){return this._open},e=a),n=(()=>{var t,r=s,n=e;for(t in n)o.call(n,t)&&(r[t]=n[t]);function i(){this.constructor=r}function s(t,e){this.tab=t,this.name=e,s.__super__.constructor.call(this),this.refs=0}return i.prototype=n.prototype,r.prototype=new i,r.__super__=n.prototype,s.prototype.incref=function(){return++this.refs},s.prototype.decref=function(){return--this.refs},s.prototype.release=function(){if(s.__super__.release.call(this),0===this.decref())return delete this.tab.locks[this.name]},s})(),r.Table=(u.prototype.create=function(t){var e=new n(this,t);return this.locks[t]=e},u.prototype.acquire=function(t,e,r){var n=s.findDeferral(arguments),i=this.locks[t]||this.create(t),o=i._open;i.incref(),t=function(){return e(i,o)};r||i._open?(r=new s.Deferrals(t,{parent:n,filename:"/Users/max/src/iced/iced-lock/index.iced",funcname:"Table.acquire"}),i.acquire(r.defer({lineno:69})),r._fulfill()):t(i=null)},u.prototype.lookup=function(t){return this.locks[t]},u),c.prototype._incref=function(){return++this.refs},c.prototype._decref=function(){if(0==--this.refs)return this.table._remove({key:this.key})},c.prototype._enter=function(t,e){var r;t=t.seqid;return this.open?(this.open=!1,this.seqid=t,e(null,this)):null!=this.waiter?(t>this.waiter.seqid?(r=this.waiter,this.waiter={cb:e,seqid:t},r.cb(new Error("our seqid="+r.seqid+" was preempted by "+t))):e(new Error("our seqid="+t+" is too stale (since "+this.waiter.seqid+" is ahead of us)")),this._decref()):t>this.seqid?this.waiter={seqid:t,cb:e}:(e(new Error("our seqid="+t+" is too stale (since "+this.seqid+" is already in flight)")),this._decref())},c.prototype.release=function(){var t;return null!=this.waiter?(t=this.waiter,this.seqid=t.seqid,(0,t.cb)(this.waiter=null,this)):(this.open=!0,this.seqid=null),this._decref()},i=c,r.SingleFlightTable=(h.prototype._create=function(t){return t=t.key,this._jobs[t]=new i({table:this,key:t})},h.prototype._remove=function(t){return t=t.key,delete this._jobs[t]},h.prototype.enter=function(t,e){var r=t.seqid;t=t.key;return(t=this._jobs[t]||this._create({key:t}))._incref(),t._enter({seqid:r},e)},h)}).call(this)},{"iced-runtime":33}],31:[function(t,e,r){(function(){e.exports={k:"__iced_k",k_noop:"__iced_k_noop",param:"__iced_p_",ns:"iced",runtime:"runtime",Deferrals:"Deferrals",deferrals:"__iced_deferrals",fulfill:"_fulfill",b_while:"_break",t_while:"_while",c_while:"_continue",n_while:"_next",n_arg:"__iced_next_arg",defer_method:"defer",slot:"__slot",assign_fn:"assign_fn",autocb:"autocb",retslot:"ret",trace:"__iced_trace",passed_deferral:"__iced_passed_deferral",findDeferral:"findDeferral",lineno:"lineno",parent:"parent",filename:"filename",funcname:"funcname",catchExceptions:"catchExceptions",runtime_modes:["node","inline","window","none","browserify","interp"],trampoline:"trampoline",context:"context",defer_arg:"__iced_defer_"}}).call(this)},{}],32:[function(t,e,r){(function(){var e,n,i,s,o,a=[].slice;function u(t,r){this.window=t||1,this.delay=r||0,this.queue=[],this.n_out=0,this.cb=null,(this[e.deferrals]=this).defer=this._defer}e=t("./const"),r.iced=n=t("./runtime"),o=function(t,e,r,i){var s,o,u=n.findDeferral(arguments),c=new n.Rendezvous;i[0]=c.id(!0).defer({assign_fn:function(){return s=a.call(arguments,0)},lineno:20,context:void 0}),setTimeout(c.id(!1).defer({lineno:21,context:void 0}),e),i=function(){return r&&(r[0]=o),t.apply(null,s)};e=new n.Deferrals(i,{parent:u,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"}),c.wait(e.defer({assign_fn:function(){return o=arguments[0]},lineno:22})),e._fulfill()},r.timeout=function(t,e,r){var n=[];return o(t,e,r,n),n[0]},i=function(t,e,r){var i,s=n.findDeferral(arguments),o=function(){return i||(e[0]=!1),t()};o=new n.Deferrals(o,{parent:s,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"}),r[0]=o.defer({assign_fn:function(){return i=arguments[0]},lineno:39}),o._fulfill()},r.iand=function(t,e){var r=[];return i(t,e,r),r[0]},s=function(t,e,r){var i,s=n.findDeferral(arguments),o=function(){return i&&(e[0]=!0),t()};o=new n.Deferrals(o,{parent:s,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"}),r[0]=o.defer({assign_fn:function(){return i=arguments[0]},lineno:58}),o._fulfill()},r.ior=function(t,e){var r=[];return s(t,e,r),r[0]},r.Pipeliner=(u.prototype.waitInQueue=function(t){var e,r,i,s=n.findDeferral(arguments),o=(r=i=this,function(){var i;r.n_out++,i=function(){return t()},r.delay?(e=new n.Deferrals(i,{parent:s,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.waitInQueue"}),setTimeout(e.defer({lineno:108}),r.delay),e._fulfill()):t()}),a=function(t){var r=t;if(!(i.n_out>=i.window))return r();e=new n.Deferrals((function(){return n.trampoline((function(){return a(t)}))}),{parent:s,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.waitInQueue"}),i.cb=e.defer({lineno:100}),e._fulfill()};a(o)},u.prototype.__defer=function(t,e){var r,i,s,o=n.findDeferral(arguments),u=(s=this,function(){if(s.n_out--,s.cb)return r=s.cb,s.cb=null,r()});u=new n.Deferrals(u,{parent:o,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.__defer"}),i=u.defer({lineno:122}),t[0]=function(){var t,r=1<=arguments.length?a.call(arguments,0):[];return null!=(t=e.assign_fn)&&t.apply(null,r),i()},u._fulfill()},u.prototype._defer=function(t){var e=[];return this.__defer(e,t),e[0]},u.prototype.flush=function(t){var e,r,i,s=n.findDeferral(arguments);r=this,(e=function(t){var o=t;if(!r.n_out)return o();i=new n.Deferrals((function(){return n.trampoline((function(){return e(t)}))}),{parent:s,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.flush"}),r.cb=i.defer({lineno:151}),i._fulfill()})(t)},u)}).call(this)},{"./const":31,"./runtime":34}],33:[function(t,e,r){(function(){var e,n,i,s,o,a;for(r.const=t("./const"),o=0,a=(i=[t("./runtime"),t("./library")]).length;o<a;o++)for(e in n=i[o])s=n[e],r[e]=s}).call(this)},{"./const":31,"./library":32,"./runtime":34}],34:[function(t,e,r){(function(e){(function(){var n,i,s,o,a,u,c,h,f,l,p,_=[].slice;function d(t,e){this.trace=e,this.continuation=t,this.count=1,this.ret=null}function y(){this.completed=[],this.waiters=[],this.defer_id=0}function g(t,e,r){this.rv=t,this.id=e,this.multi=r}n=t("./const"),s=function(t,e,r,i,s){var o,a,u,h={};for(o in i)u=i[o],h[o]=u;return h[n.lineno]=null!=e?e[n.lineno]:void 0,(a=function(){var n,i=1<=arguments.length?_.call(arguments,0):[];return null!=e&&null!=(n=e.assign_fn)&&n.apply(null,i),t?(n=t,s||(t=null),n._fulfill(r,h)):c("overused deferral at "+l(h))})[n.trace]=h,a},f=0,a=function(t){return++f%t==0&&!(f=0)},h=null,l=function(t){return(t[n.funcname]||"<anonymous>")+" ("+t[n.filename]+":"+(t[n.lineno]+1)+")"},c=function(t){return"undefined"!=typeof console&&null!==console?console.error("ICED warning: "+t):void 0},r.trampoline=u=function(t){return a(500)?null!=(null!=e?e.nextTick:void 0)?e.nextTick(t):setTimeout(t):t()},r.Deferrals=(d.prototype._call=function(t){var e;return this.continuation?(h=t,e=this.continuation,this.continuation=null,e(this.ret)):c("Entered dead await at "+l(t))},d.prototype._fulfill=function(t,e){if(!(0<--this.count))return u((r=this,function(){return r._call(e)}));var r},d.prototype.defer=function(t){return this.count++,s(this,t,null,this.trace)},d),r.findDeferral=function(t){for(var e,r=0,i=t.length;r<i;r++)if(null!=(e=t[r])&&e[n.trace])return e;return null},r.Rendezvous=(g.prototype.defer=function(t){return this.rv._defer_with_id(this.id,t,this.multi)},p=g,y.prototype.wait=function(t){return this.completed.length?t(this.completed.shift()):this.waiters.push(t)},y.prototype.defer=function(t){var e=this.defer_id++;return this._defer_with_id(e,t)},y.prototype.id=function(t,e){return new p(this,t,e=!!e)},y.prototype._fulfill=function(t,e){return this.waiters.length?this.waiters.shift()(t):this.completed.push(t)},y.prototype._defer_with_id=function(t,e,r){return this.count++,s(this,e,t,{},r)},y),r.stackWalk=o=function(t){for(var e,r=[],i=t?t[n.trace]:h;i;)e="   at "+l(i),r.push(e),i=null!=i&&null!=(e=i[n.parent])?e[n.trace]:void 0;return r},r.exceptionHandler=i=function(t,e){if((e=e||console.error)(t.stack),(t=o()).length)return e("Iced 'stack' trace (w/ real line numbers):"),e(t.join("\n"))},r.catchExceptions=function(t){return null!=e?e.on("uncaughtException",(function(r){return i(r,t),e.exit(1)})):void 0}}).call(this)}).call(this,t("_process"))},{"./const":31,_process:39}],35:[function(t,e,r){r.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,h=-7,f=r?i-1:0,l=r?-1:1;i=t[e+f];for(f+=l,s=i&(1<<-h)-1,i>>=-h,h+=a;0<h;s=256*s+t[e+f],f+=l,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;0<h;o=256*o+t[e+f],f+=l,h-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(i?-1:1);o+=Math.pow(2,n),s-=c}return(i?-1:1)*o*Math.pow(2,s-n)},r.write=function(t,e,r,n,i,s){var o,a,u=8*s-i-1,c=(1<<u)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:s-1,p=n?1:-1;s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(n=Math.pow(2,-o))<1&&(o--,n*=2),2<=(e+=1<=o+h?f/n:f*Math.pow(2,1-h))*n&&(o++,n/=2),c<=o+h?(a=0,o=c):1<=o+h?(a=(e*n-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;t[r+l]=255&a,l+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;0<u;t[r+l]=255&o,l+=p,o/=256,u-=8);t[r+l-p]|=128*s}},{}],36:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){function r(){}t.super_=e,r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],37:[function(t,e,r){(function(){var e,n,i;function s(t){this.lazy_loop_delay=(t=t||{}).lazy_loop_delay||30,this.loop_delay=t.loop_delay||5,this.work_min=t.work_min||1,this.auto_stop_bits=t.auto_stop_bits||4096,this.max_bits_per_delta=t.max_bits_per_delta||4,this.auto_stop=t.auto_stop||!0,this.entropies=[],this.running=!0,this.is_generating=!1,this.timer_race_loop()}n=t("iced-runtime"),i=function(){},s.prototype.generate=function(t,e){var r,i,s,o,a,u=n.findDeferral(arguments),c=(this.is_generating=!0,this.running||this.resume(),r=0,i=[],o=a=this,function(){return o.auto_stop&&o.stop(),o.is_generating=!1,e(i)}),h=[],f=function(e){var o=function(){return n.trampoline((function(){return f(e)}))},c=function(t){return h.push(t),o()};if(!(r<t))return e(h);c=c,a.entropies.length?(s=a.entropies.splice(0,1)[0],r+=s[1],c(i.push(s[0]))):(s=new n.Deferrals(c,{parent:u,filename:"/Users/chris/git/more-entropy/src/generator.iced",funcname:"Generator.generate"}),a.delay(s.defer({lineno:28})),s._fulfill())};f(c)},s.prototype.stop=function(){return this.running=!1},s.prototype.resume=function(){return this.running=!0,this.timer_race_loop()},s.prototype.reset=function(){return this.entropies=[],this.total_bits=0},s.prototype.count_unused_bits=function(){for(var t=0,e=this.entropies,r=0,n=e.length;r<n;r++)t+=e[r][1];return t},s.prototype.delay=function(t){var e=n.findDeferral(arguments),r=this.is_generating?this.loop_delay:this.lazy_loop_delay;e=new n.Deferrals((function(){return t()}),{parent:e,filename:"/Users/chris/git/more-entropy/src/generator.iced",funcname:"Generator.delay"}),setTimeout(e.defer({lineno:50}),r),e._fulfill()},s.prototype.timer_race_loop=function(){var t,e,r,s,o,a,u=i,c=n.findDeferral(arguments);this._last_count=null,t=[],r=this,(e=function(i){var u=function(){return n.trampoline((function(){return e(i)}))};if(!r.running)return i(t);r.count_unused_bits()<r.auto_stop_bits&&(s=r.millisecond_count(),null!=r._last_count&&(o=s-r._last_count)&&(a=Math.floor(r.log_2(Math.abs(o))),a=Math.min(r.max_bits_per_delta,a),o=[o,a],r.entropies.push(o)),r._last_count=s),a=new n.Deferrals((function(e){return t.push(e),u()}),{parent:c,filename:"/Users/chris/git/more-entropy/src/generator.iced",funcname:"Generator.timer_race_loop"}),r.delay(a.defer({lineno:64})),a._fulfill()})(u)},s.prototype.log_2=function(t){return Math.log(t)/Math.LN2},s.prototype.millisecond_count=function(){for(var t,e=Date.now(),r=t=0;Date.now()<e+this.work_min+1;)r++,t=Math.sin(Math.sqrt(Math.log(r+t)));return r},e=s,"undefined"!=typeof window&&null!==window&&(window.Generator=e),null!=r&&(r.Generator=e)}).call(this)},{"iced-runtime":33}],38:[function(t,e,r){(function(){r.Generator=t("../lib/generator").Generator}).call(this)},{"../lib/generator":37}],39:[function(t,e,r){var n,i;e=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var u,c=[],h=!1,f=-1;function l(){h&&u&&(h=!1,u.length?c=u.concat(c):f=-1,c.length)&&p()}function p(){if(!h){for(var t=a(l),e=(h=!0,c.length);e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function d(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new _(t,e)),1!==c.length||h||a(p)},_.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.prependListener=d,e.prependOnceListener=d,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],40:[function(t,e,r){(function(e,n){var i=t("process/browser.js").nextTick,s=Function.prototype.apply,o=Array.prototype.slice,a={},u=0;function c(t,e){this._id=t,this._clearFn=e}r.setTimeout=function(){return new c(s.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new c(s.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r.setImmediate="function"==typeof e?e:function(t){var e=u++,n=!(arguments.length<2)&&o.call(arguments,1);return a[e]=!0,i((function(){a[e]&&(n?t.apply(null,n):t.call(null),r.clearImmediate(e))})),e},r.clearImmediate="function"==typeof n?n:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":39,timers:40}],41:[function(t,e,r){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],42:[function(t,r,n){(function(e,r){var i,s=/%[sdj%]/g,o=(n.format=function(t){if(!g(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(t).replace(s,(function(t){if("%%"===t)return"%";if(i<=r)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),u=n[r];r<i;u=n[++r])d(u)||!b(u)?o+=" "+u:o+=" "+a(u);return o},n.deprecate=function(t,i){var s;return w(r.process)?function(){return n.deprecate(t,i).apply(this,arguments)}:!0===e.noDeprecation?t:(s=!1,function(){if(!s){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),s=!0}return t.apply(this,arguments)})},{});function a(t,e){var r={seen:[],stylize:c};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),_(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),h(r,t,r.depth)}function u(t,e){return(e=a.styles[e])?"["+a.colors[e][0]+"m"+t+"["+a.colors[e][1]+"m":t}function c(t,e){return t}function h(t,e,r){if(t.customInspect&&e&&B(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e))return g(s=e.inspect(r,t))?s:h(t,s,r);if(s=((t,e)=>{var r;return w(e)?t.stylize("undefined","undefined"):g(e)?(r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",t.stylize(r,"string")):y(e)?t.stylize(""+e,"number"):_(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0})(t,e))return s;var i,s=Object.keys(e),o=(i={},s.forEach((function(t,e){i[t]=!0})),i);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),k(e)&&(0<=s.indexOf("message")||0<=s.indexOf("description")))return f(e);if(0===s.length){if(B(e))return u=e.name?": "+e.name:"",t.stylize("[Function"+u+"]","special");if(m(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(v(e))return t.stylize(Date.prototype.toString.call(e),"date");if(k(e))return f(e)}var a,u="",c=!1,b=["{","}"];return p(e)&&(c=!0,b=["[","]"]),B(e)&&(u=" [Function"+(e.name?": "+e.name:"")+"]"),m(e)&&(u=" "+RegExp.prototype.toString.call(e)),v(e)&&(u=" "+Date.prototype.toUTCString.call(e)),k(e)&&(u=" "+f(e)),0!==s.length||c&&0!=e.length?r<0?m(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),a=c?((t,e,r,n,i)=>{for(var s=[],o=0,a=e.length;o<a;++o)E(e,String(o))?s.push(l(t,e,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(l(t,e,r,n,i,!0))})),s})(t,e,r,o,s):s.map((function(n){return l(t,e,r,o,n,c)})),t.seen.pop(),60<a.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?b[0]+(""===u?"":u+"\n ")+" "+a.join(",\n  ")+" "+b[1]:b[0]+u+" "+a.join(", ")+" "+b[1]):b[0]+u+b[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,r,n,i,s){var o,a;if((e=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=e.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.set&&(a=t.stylize("[Setter]","special")),E(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(e.value)<0?-1<(a=h(t,e.value,d(r)?null:r-1)).indexOf("\n")&&(a=s?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),w(o)){if(s&&i.match(/^\d+$/))return a;o=(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(o,"string"))}return o+": "+a}function p(t){return Array.isArray(t)}function _(t){return"boolean"==typeof t}function d(t){return null===t}function y(t){return"number"==typeof t}function g(t){return"string"==typeof t}function w(t){return void 0===t}function m(t){return b(t)&&"[object RegExp]"===S(t)}function b(t){return"object"==typeof t&&null!==t}function v(t){return b(t)&&"[object Date]"===S(t)}function k(t){return b(t)&&("[object Error]"===S(t)||t instanceof Error)}function B(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}n.debuglog=function(t){var r;return w(i)&&(i=e.env.NODE_DEBUG||""),t=t.toUpperCase(),o[t]||(new RegExp("\\b"+t+"\\b","i").test(i)?(r=e.pid,o[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}):o[t]=function(){}),o[t]},(n.inspect=a).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=_,n.isNull=d,n.isNullOrUndefined=function(t){return null==t},n.isNumber=y,n.isString=g,n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=w,n.isRegExp=m,n.isObject=b,n.isDate=v,n.isError=k,n.isFunction=B,n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.log=function(){var t,e;console.log("%s - %s",(e=[A((t=new Date).getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":"),[t.getDate(),D[t.getMonth()],e].join(" ")),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(e&&b(e))for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,t("_process"),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":41,_process:39,inherits:36}]},{},[10])(10)}).call(this,r(3))},function(t,e){function r(t){var e;return(i[t]||(e=i[t]={i:t,l:!1,exports:{}},n[t].call(e.exports,e,e.exports,r),e.l=!0,e)).exports}var n,i;n=[function(t,e,r){var n=(()=>{var t=new ArrayBuffer(2560),e=new Uint8Array(t,0,256),r=new Uint8Array(t,256,256),n=new Uint32Array(t,512,128),i=new Uint32Array(t,1024,128),s=new Uint32Array(t,1536,128),o=new Uint32Array(t,2048,128);e.set(Uint8Array.from("AAAABBBBCCCCDDDDEEEEFFFFGGGGHHHHIIIIJJJJKKKKLLLLMMMMNNNNOOOOPPPPQQQQRRRRSSSSTTTTUUUUVVVVWWWWXXXXYYYYZZZZaaaabbbbccccddddeeeeffffgggghhhhiiiijjjjkkkkllllmmmmnnnnooooppppqqqqrrrrssssttttuuuuvvvvwwwwxxxxyyyyzzzz0000111122223333444455556666777788889999++++////".split("").map((function(t){return 255&t.charCodeAt(0)})))),r.set(Uint8Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").map((function(t){return 255&t.charCodeAt(0)})))),n.set(new Uint32Array(128).fill(33554431)),i.set(new Uint32Array(128).fill(33554431)),s.set(new Uint32Array(128).fill(33554431)),o.set(new Uint32Array(128).fill(33554431)),Object.entries({43:[248,57347,8392448,4063232],47:[252,61443,12586752,4128768],48:[208,16387,3328,3407872],49:[212,20483,4197632,3473408],50:[216,24579,8391936,3538944],51:[220,28675,12586240,3604480],52:[224,32771,3584,3670016],53:[228,36867,4197888,3735552],54:[232,40963,8392192,3801088],55:[236,45059,12586496,3866624],56:[240,49155,3840,3932160],57:[244,53251,4198144,3997696],65:[0,0,0,0],66:[4,4096,4194304,65536],67:[8,8192,8388608,131072],68:[12,12288,12582912,196608],69:[16,16384,256,262144],70:[20,20480,4194560,327680],71:[24,24576,8388864,393216],72:[28,28672,12583168,458752],73:[32,32768,512,524288],74:[36,36864,4194816,589824],75:[40,40960,8389120,655360],76:[44,45056,12583424,720896],77:[48,49152,768,786432],78:[52,53248,4195072,851968],79:[56,57344,8389376,917504],80:[60,61440,12583680,983040],81:[64,1,1024,1048576],82:[68,4097,4195328,1114112],83:[72,8193,8389632,1179648],84:[76,12289,12583936,1245184],85:[80,16385,1280,1310720],86:[84,20481,4195584,1376256],87:[88,24577,8389888,1441792],88:[92,28673,12584192,1507328],89:[96,32769,1536,1572864],90:[100,36865,4195840,1638400],97:[104,40961,8390144,1703936],98:[108,45057,12584448,1769472],99:[112,49153,1792,1835008],100:[116,53249,4196096,1900544],101:[120,57345,8390400,1966080],102:[124,61441,12584704,2031616],103:[128,2,2048,2097152],104:[132,4098,4196352,2162688],105:[136,8194,8390656,2228224],106:[140,12290,12584960,2293760],107:[144,16386,2304,2359296],108:[148,20482,4196608,2424832],109:[152,24578,8390912,2490368],110:[156,28674,12585216,2555904],111:[160,32770,2560,2621440],112:[164,36866,4196864,2686976],113:[168,40962,8391168,2752512],114:[172,45058,12585472,2818048],115:[176,49154,2816,2883584],116:[180,53250,4197120,2949120],117:[184,57346,8391424,3014656],118:[188,61442,12585728,3080192],119:[192,3,3072,3145728],120:[196,4099,4197376,3211264],121:[200,8195,8391680,3276800],122:[204,12291,12585984,3342336]}).forEach((function(t){n[parseInt(t[0])]=4294967295&t[1][0],i[parseInt(t[0])]=4294967295&t[1][1],s[parseInt(t[0])]=4294967295&t[1][2],o[parseInt(t[0])]=4294967295&t[1][3]}));class a{constructor(){this._CHNK_L_=Math.pow(108,2)/2|0,this._CHNK_L_STR_=3*this._CHNK_L_|0,this._CHNK_L_BUFF_=4*this._CHNK_L_|0,this._PAD_C_=255&"=".charCodeAt(0),this._E0_=e.slice(0,e.length),this._E1_=r.slice(0,r.length),this._D0_=n.slice(0,n.length),this._D1_=i.slice(0,i.length),this._D2_=s.slice(0,s.length),this._D3_=o.slice(0,o.length),this._AB_=new ArrayBuffer(this._CHNK_L_BUFF_+4|0),this._u32aT_=new Uint32Array(this._AB_,0,1),this._u8aT_=new Uint8Array(this._AB_,0,3),this._T_=new Uint8Array(this._AB_,4,0|this._CHNK_L_BUFF_)}get PAD_C(){return 255&this._PAD_C_}get CHNK_L_STR(){return 0|this._CHNK_L_STR_}get u32aT0(){return this._u32aT_[0]}set u32aT0(t){this._u32aT_[0]=(0|t)>>>0}get u8aTa(){return this._u8aT_[0]}get u8aTb(){return this._u8aT_[1]}get u8aTc(){return this._u8aT_[2]}_base64_decode_u32ax1(t,e){this.u32aT0=this._D0_[255&t.charCodeAt(e=(0|e)>>>0)]|this._D1_[255&t.charCodeAt(e+1|0)]|this._D2_[255&t.charCodeAt(e+2|0)]|this._D3_[255&t.charCodeAt(e+3|0)]}_base64_encode_u8ax4(t,e,r){this._T_[0|(e=(0|e)>>>0)]=this._E0_[t[(0|(r=(0|r)>>>0))>>>0]],this._T_[e+1|0]=this._E1_[(3&t[(0|r)>>>0])<<4|t[(r+1|0)>>>0]>>4&15],this._T_[e+2|0]=this._E1_[(15&t[(r+1|0)>>>0])<<2|t[(r+2|0)>>>0]>>6&3],this._T_[e+3|0]=this._E1_[t[(r+2|0)>>>0]]}_base64_encode_final(t,e,r,n){switch(n=(0|n)>>>0,((r=(0|r)>>>0)-(e=(0|e)>>>0)|0)>>>0){case 1:return this._T_[0|n]=this._E0_[t[(0|e)>>>0]],this._T_[n+1|0]=this._E1_[(3&t[(0|e)>>>0])<<4|t[(e+1|0)>>>0]>>4&15],this._T_[n+2|0]=this._PAD_C_,this._T_[n+3|0]=this._PAD_C_,this._T_.subarray(0,0|(n=n+4|0));case 2:return this._T_[0|n]=this._E0_[t[(0|e)>>>0]],this._T_[n+1|0]=this._E1_[(3&t[(0|e)>>>0])<<4|t[(e+1|0)>>>0]>>4&15],this._T_[n+2|0]=this._E1_[(15&t[(e+1|0)>>>0])<<2|t[(e+2|0)>>>0]>>6&3],this._T_[n+3|0]=this._PAD_C_,this._T_.subarray(0,0|(n=n+4|0));case 0:return this._T_.subarray(0,0|n);default:return this._T_}}_base64_decode_final(t,e,r,n,i){switch(r=(0|r)>>>0,n=(0|n)>>>0,0|(i=(0|i)>>>0)){case 0:return this.u32aT0=(this._D0_[e.charCodeAt(0|r)]|this._D1_[e.charCodeAt(r+1|0)]|this._D2_[e.charCodeAt(r+2|0)]|this._D3_[e.charCodeAt(r+3|0)]|0)>>>0,t[0|n]=255&this.u32aT0,t[n+1|0]=this.u32aT0>>8&255,t[n+2|0]=this.u32aT0>>16&255,n+3|0;case 1:return this.u32aT0=(0|this._D0_[e.charCodeAt(0|r)])>>>0,t[0|n]=255&this.u32aT0,n+1|0;case 2:return this.u32aT0=(this._D0_[e.charCodeAt(0|r)]|this._D1_[e.charCodeAt(r+1|0)]|0)>>>0,t[0|n]=255&this.u32aT0,n+1|0;default:return this.u32aT0=(this._D0_[e.charCodeAt(0|r)]|this._D1_[e.charCodeAt(r+1|0)]|this._D2_[e.charCodeAt(r+2|0)]|0)>>>0,t[0|n]=255&this.u32aT0,t[n+1|0]=this.u32aT0>>8&255,n+2|0}}_base64_store_u8ax3(t,e){t[e=(0|e)>>>0]=this.u8aTa,t[e+1|0]=this.u8aTb,t[e+2|0]=this.u8aTc}get_max_round_str(t){return 0|Math.ceil(t/this.CHNK_L_STR)}base64_encode(t,e){var r=0|t.length,n=(e|=0)*this.CHNK_L_STR|0,i=0,s=Math.min(n+this.CHNK_L_STR|0,0|r)-2|0;if(0<(0|s))for(;(0|n)<(0|s);n=(n+3|0)>>>0,i=i+4|0)this._base64_encode_u8ax4(t,i,n);return a.encodeChars_(this._base64_encode_final(t,n,r,i))}bytesToBase64(t){for(var e="",r=0,n=this.get_max_round_str(t.length);(0|r)<(0|n);r=(r+1|0)>>>0)e+=this.base64_encode(t,0|r);return e}base64ToBytes(t){var e,r,n=0|t.length,i=0,s=0,o=0;if(0==(0|n))return new Uint8Array(0);for(t.charCodeAt(n-1|0)===this.PAD_C&&(o=o+1|0,t.charCodeAt((n=n-1|0)-1|0)===this.PAD_C)&&(n=n-1|0,o=o+1|0),e=new Uint8Array(t.length/4*3-o),r=0==(0|(o=3&n))?(n>>>2)-1|0:n>>>2;(0|i)<(0|r);i=(i+1|0)>>>0)this._base64_decode_u32ax1(t,i<<2),this._base64_store_u8ax3(e,s),s=s+3|0;return this._base64_decode_final(e,t,i<<=2,s,o),e}}return a.charCode_=function(t){return 255&t.charCodeAt(0)},a.charCodeAt_=function(t,e){return 255&t.charCodeAt(0|e)},a.encodeChars_=function(t){return 0<(0|t.length)?String.fromCharCode.apply(null,t):""},a})();t.exports={B64chromium:n}},function(t,e,r){r.r(e);var n=r(0);class i{constructor(t){this.arrayType=t,this.bitMask=this.calculateBitMask()}calculateBitMask(){var t={Uint8Array:255,Uint16Array:65535,Uint32Array:4294967295};if(this.arrayType.name in t)return t[this.arrayType.name];throw new Error("Unsupported array type: "+this.arrayType.name)}performDeltaEncoding(t){this.validateInputType(t,"performDeltaEncoding");var e,r=new this.arrayType(t.length),n=0|t.length,i=0;for(r[0]=0|t[0],i=1;(0|i)<(0|n);i=i+1|0)e=t[i]-t[i-1]&this.bitMask,r[i]=0|e;return r}performDeltaDecoding(t){this.validateInputType(t,"performDeltaDecoding");var e,r=new this.arrayType(t.length),n=0|t.length,i=0;for(r[0]=0|t[0],i=1;(0|i)<(0|n);i=i+1|0)e=r[i-1]+t[i]&this.bitMask,r[i]=0|e;return r}validateInputType(t,e){if(!(t instanceof this.arrayType))throw new Error(`Input data type does not match for method ${e}. Expected: `+this.arrayType.name)}}class s{constructor(t){this.bitArray=new Uint8Array(t+7>>3)}setBit(t,e){var r=1<<(t|=0)%8;this.bitArray[t=t/8|0]=(e|=0)?this.bitArray[t]|r:this.bitArray[t]&~r}getBit(t){return this.bitArray[(t|=0)/8|0]&1<<t%8?1:0}}var o=new class{constructor(){this.deltaEncoder8Bit=new i(Uint8Array),this.deltaEncoder16Bit=new i(Uint16Array),this.deltaEncoder32Bit=new i(Uint32Array)}getDeltaEncoder(t){switch(t){case"Uint8Array":case"Int8Array":case"Uint8ClampedArray":return this.deltaEncoder8Bit;case"Uint16Array":case"Int16Array":return this.deltaEncoder16Bit;case"Uint32Array":case"Int32Array":case"Float32Array":case"Float64Array":return this.deltaEncoder32Bit;default:throw new Error("Unknown TypedArray type.")}}compress(t){let e=t.constructor,r=e.name,n=t.length,i=this.getDeltaEncoder(r).performDeltaEncoding(new e(t.buffer)),o=new s(t.length),a=[],u=i[0];a.push(u);for(let t=1;t<i.length;t++)i[t]===u?o.setBit(t,!0):(a.push(i[t]),u=i[t]);return this.packData(a,o,n,e.BYTES_PER_ELEMENT)}packData(t,e,r,n){n=t.length*n;var i=(e=e.bitArray).length;return(i=new Uint8Array(9+n+i))[0]=this.getDataTypeId(t),i.set(this.convertLengthToBytes(n),1),i.set(this.convertLengthToBytes(r),5),i.set(t,9),i.set(e,9+n),i}convertLengthToBytes(t){return Uint8Array.of(t>>0&255,t>>8&255,t>>16&255,t>>24&255)}getDataTypeId(t){return{Uint8Array:1,Int8Array:2,Uint8ClampedArray:3,Uint16Array:4,Int16Array:5,Uint32Array:6,Int32Array:7,Float32Array:8,Float64Array:9}[t.constructor.name]||0}decompress(t){let e=t[0],r=this.extractLengthFromBytes(t,1),n=this.extractLengthFromBytes(t,5),i=new Uint8Array(t.subarray(9,9+r)),o=(t=new Uint8Array(t.subarray(9+r)),new(r=this.getArrayConstructorByTypeId(e))(i.buffer)),a=new s(8*t.length),u=(a.bitArray=t,new r(n)),c=0;for(let t=0;(0|t)<(0|n);t=t+1|0)a.getBit(t)?u[t]=u[t-1|0]:u[t]=o[c++];return this.getDeltaEncoder(r.name).performDeltaDecoding(u)}extractLengthFromBytes(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24}getArrayConstructorByTypeId(t){return{1:Uint8Array,2:Int8Array,3:Uint8ClampedArray,4:Uint16Array,5:Int16Array,6:Uint32Array,7:Int32Array,8:Float32Array,9:Float64Array}[t]||Uint8Array}},a=class{constructor(t){this._buffers=new WeakMap,this._store={},this._nextId=0,this._compress=t?o.compress.bind(o):function(t){return t},this._decompress=t?o.decompress.bind(o):function(t){return t}}_generateId(){var t=this._nextId;return this._nextId++,t}clear(){this._buffers=new WeakMap,this._store={},this._nextId=0}insert(t,e){if(void 0===e){if(this._buffers.has(t))return this._buffers.get(t);e=this._generateId()}else if(this._store.hasOwnProperty(e))throw new Error(`ID ${e} is already in use.`);return e=parseInt(e),this._buffers.set(t,e),this._store[e]=t,e}retrieve(t){return this._store[parseInt(t)]}retrieveAll(){var t={},e=Object.entries(this._store);for(let i=0;i<e.length;i++){var[r,n]=e[i],n=this._compress(new Uint8Array(n)).buffer;t[parseInt(r)]=n}return t}insertAll(t){var e=Object.entries(t);for(let t=0;t<e.length;t++){var[r,n]=e[t],n=this._decompress(new Uint8Array(n)).buffer;this.insert(n,parseInt(r))}}};r=new class{constructor(){this._packBufferTemp8=new Uint8Array(15e3),this._headerByteLength=0,this._offset=0,this._b64=new n.B64chromium,this._b64Base64ToBytes=this._b64.base64ToBytes.bind(this._b64),this._b64BytesToBase64=this._b64.bytesToBase64.bind(this._b64),this._textDecoder=new TextDecoder,this._textDecoderFunction=this._textDecoder.decode.bind(this._textDecoder),this._textEncoder=new TextEncoder,this._textEncoderFunction=this._textEncoder.encode.bind(this._textEncoder),this._textEncoderIntoFunction=this._textEncoder.encodeInto.bind(this._textEncoder),this.encodeOtherBound=this.encodeOther.bind(this),this.decodeOtherBound=this.decodeOther.bind(this),this.stringifyBound=this._innerStringify.bind(this),this.parseBound=this._innerParse.bind(this),this.use_compressor=!1,this._setEngine()}_setEngine(){this.engine=new class{constructor(t,e,r,n,i,s,o,u,c){this._hasher=new class{constructor(t){this._chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this._charLookup={};for(let t=0;t<this._chars.length;t++)this._charLookup[this._chars[t]]=t;this._bitPerChar=6,this._accumulatorBitNumber=32,this._outputLength=Math.max(1,Math.min(0|t,this._accumulatorBitNumber/this._bitPerChar|0)),this._primes=Uint32Array.of(2654435761,2246822519,3266489917,668265263),this._values=new Uint32Array(this._primes.length+2),this.imul=Math.imul,this.rotl=function(t,e){return(t>>>=0)<<(e&=31)|t>>>32-e}}get outputLength(){return this._outputLength}get chars(){return this._chars}get finalValue(){return this._values[4]}set finalValue(t){return this._values[4]=(0|t)>>>0}get primes(){return this._primes}get values(){return this._values}get accumulator(){return this._values}get charLookup(){return this._charLookup}getCharValue(t){return 63&this.charLookup[t]}aggregateCharValue(t,e,r,n){return t<<18|e<<12|r<<6|n}getCharByOffset(t){return this.chars[63&t]}hash(t){this.values.fill(0);for(var e=0,r=0,n=t.length,i=n>>2>>2;e<i;r=++e<<4)this.accumulator[0]=this.accumulator[0]+this.imul(this.aggregateCharValue(this.getCharValue(t[r]),this.getCharValue(t[r+1|0]),this.getCharValue(t[r+2|0]),this.getCharValue(t[r+3|0])),this.primes[0]),this.accumulator[1]=this.accumulator[1]+this.imul(this.aggregateCharValue(this.getCharValue(t[r+4|0]),this.getCharValue(t[r+5|0]),this.getCharValue(t[r+6|0]),this.getCharValue(t[r+7|0])),this.primes[1]),this.accumulator[2]=this.accumulator[2]+this.imul(this.aggregateCharValue(this.getCharValue(t[r+8|0]),this.getCharValue(t[r+9|0]),this.getCharValue(t[r+10|0]),this.getCharValue(t[r+11|0])),this.primes[2]),this.accumulator[3]=this.accumulator[3]+this.imul(this.aggregateCharValue(this.getCharValue(t[r+12|0]),this.getCharValue(t[r+13|0]),this.getCharValue(t[r+14|0]),this.getCharValue(t[r+15|0])),this.primes[3]);for(e<<=2;(0|e)<(0|n);r=(e=(e+1|0)>>>0)<<2)this.accumulator[3&e]=this.accumulator[3&e]+this.imul(this.aggregateCharValue(this.getCharValue(t[r])||0,this.getCharValue(t[r+1|0])||0,this.getCharValue(t[r+2|0])||0,this.getCharValue(t[r+3|0]))||0,this.primes[3&e]);this.finalValue=this.rotl(this.accumulator[0],1)+this.rotl(this.accumulator[1],7)+this.rotl(this.accumulator[2],12)+this.rotl(this.accumulator[3],18)>>>0;for(var s,o=0,a=new Array(this.outputLength);o<this.outputLength;o++)s=63&this.finalValue,a[o]=this.getCharByOffset(s),this.finalValue=(this.finalValue-s)/64>>>0;return a.join("")}}(1),this.hashThis=n||this._hasher.hash.bind(this._hasher),this.base=t||"data:joyson/",this.shortBase=e||"d:j/",this.baseLength=this.base.length,this.shortBaseLength=this.shortBase.length,this.encapsulate=r||function(t){return JSON.stringify(t)},this.encodeObjectOut=i||function(t){return t},this.decodeObjectOut=s||function(t){return t},this.stringifyOut=o||JSON.stringify,this.parseOut=u||JSON.parse,this._initializeErrorConstructors(),this.arrayBufferIDManager=new a(c),this._initializeBufferConstructors(),this._initializeDynamicTypes(["object","number","bigint","map","set","date","string","error","regexp","buffer","boolean","static"])}_initializeDynamicTypes(t){this.dynamicValues={},this.dynamicValuesIdKey={};for(var e=0;e<t.length;e++){var r=t[e];this.dynamicValues[r]={},this.dynamicValues[r].name=r,this.dynamicValues[r].str=this.base+this.dynamicValues[r].name+";",this.dynamicValues[r].id=this.hashThis(this.dynamicValues[r].name),this.dynamicValues[r].shortStr=this.shortBase+this.dynamicValues[r].id+";",this.dynamicValues[r].strCode=new Uint8Array(this.dynamicValues[r].str.split("").map((function(t){return t.charCodeAt(0)}))),this.dynamicValues[r].shortStrCode=new Uint8Array(this.dynamicValues[r].shortStr.split("").map((function(t){return t.charCodeAt(0)}))),this.dynamicValues[r].strLen=this.dynamicValues[r].str.length,this.dynamicValues[r].shortStrLen=this.dynamicValues[r].shortStr.length,this.dynamicValuesIdKey[this.dynamicValues[r].id]=this.dynamicValues[r].name}}_initializeErrorConstructors(){this.errorConstructors={Error:Error,TypeError:TypeError,SyntaxError:SyntaxError,ReferenceError:ReferenceError,RangeError:RangeError,EvalError:EvalError,URIError:URIError,DOMException:DOMException}}_initializeBufferConstructors(){this.bufferConstructors={ArrayBuffer:ArrayBuffer,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int8Array:Int8Array,Uint16Array:Uint16Array,Int16Array:Int16Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Float32Array:Float32Array,Float64Array:Float64Array}}clear(){this.arrayBufferIDManager.clear()}getAllArrayBuffer(){var t=this.arrayBufferIDManager.retrieveAll();return this.clear(),t}setAllArrayBuffer(t){this.clear(),this.arrayBufferIDManager.insertAll(t)}_isNotNumber(t){return isNaN(t)}_isNotFiniteNumber(t){return!isFinite(t)}_isNotObject(t){return null===t}_isNotString(t){return t.includes("\0")}_isError(t){return void 0!==t.name&&t.name in this.errorConstructors}_isBuffer(t){return(t instanceof ArrayBuffer||"object"==typeof t.buffer)&&(t.constructor||{}).name in this.bufferConstructors}_mustDecodeOfType(t){if("string"==typeof t){if(t.startsWith(this.shortBase))return 2;if(t.startsWith(this.base))return 1}return 0}_dataTypeNameFromKey(t){return this.dynamicValuesIdKey[t]}_decode(t,e){var r=t.slice(e?this.shortBaseLength:this.baseLength).split(";"),n=r[0],i=r[1];switch(e?this._dataTypeNameFromKey(n):n){case"static":return this.decodeStatic(i);case"number":return this.decodeSpecialNumber(i);case"bigint":return this.decodeBigNumber(i);case"string":return this.decodeSpecialString(i);case"boolean":return this.decodeBoolean(i);case"map":return this.decodeMap(i);case"set":return this.decodeSet(i);case"date":return this.decodeDate(i);case"regexp":return this.decodeRegexp(i);case"error":return this.decodeError(i);case"buffer":return this.decodeBuffer(i);case"object":return this.decodeSpecialObject(i);default:return this.decodeObjectOut(t,e)}}decode(t,e){switch(this._mustDecodeOfType(t)){case 0:return"object"==typeof t?this.decodeObjectOut(t,e):t;case 1:return this._decode(t,!1);case 2:return this._decode(t,!0)}}decodeStatic(t){switch(t){case"nan":return NaN;case"null":return null;case"undefined":return}}decodeSpecialNumber(t){switch(t){case"nan":return NaN;case"infinity":return 1/0;case"-infinity":return-1/0;case"epsilon":return Number.EPSILON;case"-epsilon":return-Number.EPSILON;case"-0":return parseInt("-0");default:return Number(t)}}decodeBigNumber(t){return BigInt(t)}decodeSpecialString(t){return atob(t)}decodeBoolean(t){return"true"===t}decodeMap(t){return t=atob(t),t=this.parseOut(t),new Map(t)}decodeSet(t){return t=atob(t),t=this.parseOut(t),new Set(t)}decodeDate(t){return new Date(t)||new Date(NaN)}decodeRegexp(t){t=t.split(":");var e=atob(t[0]);return t=atob(t[1]),new RegExp(e,t)}decodeError(t){t=t.split(":");var e=atob(t[0]);return t=atob(t[1]),new this.errorConstructors[e](t)}decodeBuffer(t){var e="ArrayBuffer"===(r=(t=t.split(":"))[0]),r=this.bufferConstructors[r],n=parseInt(t[1],16),i=parseInt(t[2],16);return t=parseInt(t[3],16),t=this.arrayBufferIDManager.retrieve(t),e?t:new r(t,n,i)}decodeSpecialObject(t){return t=atob(t),t=this.parseOut(t),Object(t)}_encodeFinal(t,e,r){return r?this.dynamicValues[t].shortStr+e:this.encapsulate(this.dynamicValues[t].str+e)}encode(t,e){switch(typeof t){case"undefined":return this.encodeStatic(t,e);case"number":return this._isNotNumber(t)?this.encodeStatic(t,e):this.encodeNumber(t,e);case"bigint":return this.encodeBigNumber(t,e);case"string":return this._isNotString(t)?this.encodeSpecialString(t,e):this.encodeString(t,e);case"boolean":return this.encodeBoolean(t,e);case"object":return this._isNotObject(t)?this.encodeStatic(t,e):"function"==typeof t.get?this.encodeMap(t,e):"function"==typeof t.delete?this.encodeSet(t,e):"function"==typeof t.toISOString?this.encodeDate(t,e):"function"==typeof t.exec?this.encodeRegexp(t,e):t!==t.valueOf()?this.encodeSpecialObject(t,e):this._isError(t)?this.encodeError(t,e):this._isBuffer(t)?this.encodeBuffer(t,e):this.encodeObject(t,e)}}encodeStatic(t,e){var r;switch(typeof t){case"number":r="nan";break;case"object":r="null";break;case"undefined":r="undefined"}return this._encodeFinal("static",r,e)}encodeNumber(t,e){var r;switch(t){case NaN:r="nan";break;case 1/0:r="infinity";break;case-1/0:r="-infinity";break;case Number.EPSILON:r="epsilon";break;case-Number.EPSILON:r="-epsilon";break;default:if("-0"===Number(t).toLocaleString())r="-0";else{if(!this._isNotFiniteNumber(t))return e?t:""+t;r=t}}return this._encodeFinal("number",r,e)}encodeBigNumber(t,e){return t=t.toString(),this._encodeFinal("bigint",t,e)}encodeSpecialString(t,e){return t=btoa(t),this._encodeFinal("string",t,e)}encodeString(t,e){return e?""+t:this.encapsulate(t)}encodeBoolean(t,e){return this._encodeFinal("boolean",t?"true":"false",e)}encodeMap(t,e){return t=Object.entries(Object.fromEntries(t)),t=this.stringifyOut(t),t=btoa(t),this._encodeFinal("map",t,e)}encodeSet(t,e){return t=Array.from(t),t=this.stringifyOut(t),t=btoa(t),this._encodeFinal("set",t,e)}encodeDate(t,e){return t=t.toISOString(),this._encodeFinal("date",t,e)}encodeRegexp(t,e){return t=[btoa(t.source),btoa(t.flags)],this._encodeFinal("regexp",t.join(":"),e)}encodeSpecialObject(t,e){return t=this.stringifyOut(t.valueOf()),t=btoa(t),this._encodeFinal("object",t,e)}encodeError(t,e){return t=[btoa(t.name),btoa(t.message)],this._encodeFinal("error",t.join(":"),e)}encodeBuffer(t,e){var r=(s=void 0===t.buffer)?"ArrayBuffer":t.constructor.name,n=t.byteOffset,i=s?t.byteLength:t.length,s=s?t:t.buffer;return t=this.arrayBufferIDManager.insert(s),s=[r,parseInt(n).toString(16),parseInt(i).toString(16),parseInt(t).toString(16)],this._encodeFinal("buffer",s.join(":"),e)}encodeObject(t,e){return this.encodeObjectOut(t,e)}}(void 0,void 0,void 0,void 0,this.encodeOtherBound,this.decodeOtherBound,this.stringifyBound,this.parseBound,this.use_compressor)}get compress(){return this.use_compressor}set compress(t){this.use_compressor=Boolean(t),this._setEngine()}_getComparator(){return function(t){return function(e){return function(r,n){return r={key:r,value:e[r]},t(r,n={key:n,value:e[n]})}}}}_stringifyObject(t){if(Array.isArray(t)){for(var e=0,r=t.length,n=((i=Object.keys(t)).length,new Array(r));(0|e)<(0|r);e=(e+1|0)>>>0)n[e]=this.engine.encode(t[e],!1);return"["+n.join(",")+"]"}for(var i,s,o=this._getComparator(),a="",u=(r=(e=0)|(i=Object.keys(t).sort(o&&o(t))).length,"");(0|e)<(0|r);e=(e+1|0)>>>0)if(a=i[e]+"",s=this.engine.encode(t[a],!1))switch(0<(0|u.length)&&(u+=","),0|(0===a.length||a.includes("\0")||a.startsWith("$"))){case 0:u+=this.engine.encode(a,!1)+":"+s;break;case 1:u+='"$'+btoa("$"+a)+'":'+s}return"{"+u+"}"}encodeOther(t,e){return e?this._packObject(t):this._stringifyObject(t)}decodeOther(t,e){return e?this._unpackObject(t):this._parseObject(t)}_stringify(t,e){var r={};if(r.header=this.engine.encode(t,!1),!e){var n,i=this.engine.getAllArrayBuffer();for(n in r.buffers={},i)r.buffers[n]=this._b64BytesToBase64(new Uint8Array(i[n]))}return JSON.stringify(r)}stringify(t){return this._stringify(t,!1)}_innerStringify(t){return this._stringify(t,!0)}_parseObject(t){if(Array.isArray(t)){for(var e=[],r=0,n=t.length;(0|r)<(0|n);r=(r+1|0)>>>0)e.push(this.engine.decode(t[r]));return e}var i,s,o={},a=Object.keys(t),u="";for(r=0,n=0|a.length;(0|r)<(0|n);r=(r+1|0)>>>0)switch(u=a[r],i=this._keyMustDecode(u),s=this.engine.decode(t[u]),0|i){case 0:o[u]=s;break;case 1:o[atob(u.slice(1)).slice(1)]=s}return o}_parse(t,e){var r,n;return t=JSON.parse(t),e||(r=this._b64Base64ToBytes,n={},Object.entries(t.buffers).forEach((function(t){var e=t[0];n[e]=r(t=t[1]).buffer})),this.engine.setAllArrayBuffer(n)),this.engine.decode(JSON.parse(t.header))}parse(t){return this._parse(t,!1)}_innerParse(t){return this._parse(t,!0)}_packObject(t){if(Array.isArray(t)){for(var e=[],r=0,n=t.length;(0|r)<(0|n);r=(r+1|0)>>>0)e.push(this.engine.encode(t[r],!0));return e}var i,s={},o=Object.keys(t),a="";for(r=0,n=0|o.length;(0|r)<(0|n);r=(r+1|0)>>>0)if(a=o[r]+"",i=this.engine.encode(t[a],!0))switch(0|(""===a||a.includes("\0")||a.startsWith("$"))){case 0:s[this.engine.encode(a,!0)]=i;break;case 1:s["$"+btoa("$"+a)]=i}return s}pack(t){t=JSON.stringify(this.engine.encode(t,!0));var e=this.engine.getAllArrayBuffer(),r=0,n=Object.keys(e).length;for(o in e)r+=e[o].byteLength;var i=2*t.length+5,s=i+r+4;if(this._packBufferTemp8.length<s&&(this._packBufferTemp8=new Uint8Array(s)),(s=this._textEncoderIntoFunction(t,this._packBufferTemp8.subarray(4,4+i))).written>i)throw new Error("Header in json is too fat!");this._packBufferTemp8[0]=(t=s.written)>>0&255,this._packBufferTemp8[1]=t>>8&255,this._packBufferTemp8[2]=t>>16&255,this._packBufferTemp8[3]=t>>24&255;var o,a=t;r=4;for(o in this._packBufferTemp8[a+r]=n>>0&255,this._packBufferTemp8[a+r+1]=n>>8&255,this._packBufferTemp8[a+r+2]=n>>16&255,this._packBufferTemp8[a+r+3]=n>>24&255,r+=4,e){var u=e[o],c=u.byteLength;this._packBufferTemp8[a+r]=c>>0&255,this._packBufferTemp8[a+r+1]=c>>8&255,this._packBufferTemp8[a+r+2]=c>>16&255,this._packBufferTemp8[a+r+3]=c>>24&255,r+=4,this._packBufferTemp8.set(new Uint8Array(u),a+r),r+=c}return this._packBufferTemp8.slice(0,a+r)}_keyMustDecode(t){return t.startsWith("$")}_unpackObject(t){if(Array.isArray(t)){for(var e=[],r=0,n=t.length;(0|r)<(0|n);r=(r+1|0)>>>0)e.push(this.engine.decode(t[r],!0));return e}var i,s,o={},a=Object.keys(t),u="";for(r=0,n=0|a.length;(0|r)<(0|n);r=(r+1|0)>>>0)switch(u=a[r],i=this._keyMustDecode(u),s=this.engine.decode(t[u],!0),0|i){case 0:o[u]=s;break;case 1:o[atob(u.slice(1)).slice(1)]=s}return o}unpack(t){for(var e=4+(t[0]<<0|t[1]<<8|t[2]<<16|t[3]<<24),r=4+e,n=JSON.parse(this._textDecoderFunction(t.subarray(4,e))),i=t[e]<<0|t[1+e]<<8|t[2+e]<<16|t[3+e]<<24,s={},o=r,a=0;a<i;a++){var u=t[o]<<0|t[o+1]<<8|t[o+2]<<16|t[o+3]<<24;o+=4,s[a]=t.buffer.slice(o,o+u),o+=u}return this.engine.setAllArrayBuffer(s),this.engine.decode(n,!0)}},e.default=r}],i={},r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)},function(t,e,r){(function(t,n){function i(){return"object"==typeof t&&"object"==typeof t.versions&&void 0!==t.versions.node}function s(t){return t instanceof Uint8Array&&(!i()||!n.isBuffer(t))}function o(t){return t instanceof ArrayBuffer}function a(t){return i()&&n.isBuffer(t)}var u=r(11).SnappyDecompressor,c=r(12).SnappyCompressor,h="Argument compressed must be type of ArrayBuffer, Buffer, or Uint8Array";e.uncompress=function(t,e){if(!s(t)&&!o(t)&&!a(t))throw new TypeError(h);var r,i=!1,c=!1;s(t)?i=!0:o(t)&&(c=!0,t=new Uint8Array(t));var f=(t=new u(t)).readUncompressedLength();if(-1===f)throw new Error("Invalid Snappy bitstream");if(e<f)throw new Error(`The uncompressed length of ${f} is too big, expect at most `+e);if(i){if(r=new Uint8Array(f),!t.uncompressToBuffer(r))throw new Error("Invalid Snappy bitstream")}else if(c){if(r=new ArrayBuffer(f),e=new Uint8Array(r),!t.uncompressToBuffer(e))throw new Error("Invalid Snappy bitstream")}else if(r=n.alloc(f),!t.uncompressToBuffer(r))throw new Error("Invalid Snappy bitstream");return r},e.compress=function(t){if(!s(t)&&!o(t)&&!a(t))throw new TypeError(h);var e,r=!1,i=!1;s(t)?r=!0:o(t)&&(i=!0,t=new Uint8Array(t));var u=(t=new c(t)).maxCompressedLength(),f=r?(e=new Uint8Array(u),t.compressToBuffer(e)):i?(e=new ArrayBuffer(u),f=new Uint8Array(e),t.compressToBuffer(f)):(e=n.alloc(u),t.compressToBuffer(e));if(e.slice)return e.slice(0,f);if(u=new Uint8Array(Array.prototype.slice.call(e,0,f)),r)return u;if(i)return u.buffer;throw new Error("Not implemented")}}).call(this,r(6),r(7).Buffer)},function(t,e){var r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){r.r(e),function(t){var e=r(1),n=r.n(e),i=(e=r(2),r.n(e)),s=r(0);function o(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)),n}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){var n,i;n=t,i=r[e=e],(e=(t=>"symbol"==typeof(t=((t,e)=>{if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return String(t);if("object"!=typeof(r=r.call(t,e)))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"))?t:t+"")(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}s.util.buffer_to_ui8a=function(t){for(var e,r=new Uint8Array(t.length),n=e=0,i=t.length;0<=i?e<i:i<e;n=0<=i?++e:--e)r[n]=t.readUInt8(n);return r},s.util.ui8a_to_buffer=function(t){for(var e,r=s.Buffer.alloc(t.length),n=e=0,i=t.length;0<=i?e<i:i<e;n=0<=i?++e:--e)r.writeUInt8(t[n],n);return r};class u{static openDatabase(t,e=null,r=null){return new Promise((n,i)=>{var s=indexedDB.open(t);s.onupgradeneeded=e=>{var n=e.target.result;console.log(`Upgrading or initializing database: ${t}, version: `+e.newVersion),r&&r(n,e.oldVersion,e.newVersion)},s.onsuccess=s=>{var o;s=s.target.result;e&&e>s.version?(s.close(),(o=indexedDB.open(t,e)).onupgradeneeded=t=>{var n=t.target.result;console.log("Upgrading database to version "+e),r&&r(n,t.oldVersion,t.newVersion)},o.onsuccess=t=>n(t.target.result),o.onerror=t=>i("Failed to open database: "+t.target.error.message)):n(s)},s.onerror=t=>{i("Failed to open database: "+t.target.error.message)}})}static async performTransaction(t,e,r,n,i=3){try{let i=t.transaction(Array.isArray(e)?e:[e],r),s=await n(...Array.isArray(e)?e.map(t=>i.objectStore(t)):[i.objectStore(e)]);return new Promise((t,e)=>{i.oncomplete=()=>t(s),i.onerror=()=>e(new Error("Transaction failed: "+(i.error?i.error.message:"unknown error")))})}catch(s){if(0<i)return console.warn(`Transaction failed, retrying... (${i} attempts left)`),this.performTransaction(t,e,r,n,i-1);throw new Error("Transaction ultimately failed after retries: "+s.message)}}static add(t,e){return new Promise((r,n)=>{var i=t.put(e);i.onsuccess=()=>r(),i.onerror=t=>n("Failed to add record: "+t.target.error.message)})}static delete(t,e){return new Promise((r,n)=>{var i=t.delete(e);i.onsuccess=()=>r(),i.onerror=t=>n("Failed to delete record: "+t.target.error.message)})}static get(t,e){return new Promise((r,n)=>{var i=t.get(e);i.onsuccess=t=>r(t.target.result),i.onerror=t=>n(`Failed to retrieve record with key ${e}: `+t.target.error.message)})}static getAll(t){return new Promise((e,r)=>{var n=t.getAll();n.onsuccess=t=>e(t.target.result),n.onerror=t=>r("Failed to retrieve records: "+t.target.error.message)})}static count(t){return new Promise((e,r)=>{var n=t.count();n.onsuccess=t=>e(t.target.result),n.onerror=t=>r("Failed to count records: "+t.target.error.message)})}static clear(t){return new Promise((e,r)=>{var n=t.clear();n.onsuccess=()=>e(),n.onerror=t=>r("Failed to clear store: "+t.target.error.message)})}static deleteDatabase(t){return new Promise((e,r)=>{var n=indexedDB.deleteDatabase(t);n.onsuccess=()=>e(),n.onerror=t=>r("Failed to delete database: "+t.target.error.message)})}static iterateCursor(t,e){return new Promise((r,n)=>{var i=t.openCursor();i.onsuccess=t=>{(t=t.target.result)?(e(t.value,t.key),t.continue()):r()},i.onerror=t=>n("Cursor iteration failed: "+t.target.error.message)})}}class c{constructor(t,e=null){this._id=t._id||this._generateId(),this._created=t._created||Date.now(),this._permanent=t._permanent||!1,this._encrypted=t._encrypted||!!e,this._compressed=t._compressed||!1,t.packedData?(this.packedData=t.packedData,this._modified=t._modified||Date.now(),this.data=null):(this.data=t.data||{},this._modified=Date.now(),this.packedData=new Uint8Array(0)),this.encryptionKey=e||""}static isEncrypted(t){return t._encrypted&&t.packedData}static async decryptDocument(t,e){var r;if(c.isEncrypted(t))return r=await new Promise((function(r,n){s.decrypt({key:s.Buffer.from(e),data:s.util.ui8a_to_buffer(t.packedData)},(function(t,e){t?n(t):r(s.util.buffer_to_ui8a(e))}))})),console.log(r),r=n.a.unpack(r),{_id:t._id,_created:t._created,_modified:t._modified,_encrypted:!0,_compressed:t._compressed,data:r};throw new Error("Document is not encrypted.")}async pack(){if(!this.data)throw new Error("No data to pack");let t=n.a.pack(this.data);return this._compressed&&(t=await this._compressData(t)),this._encrypted&&(t=await this._encryptData(t)),this.packedData=t}async unpack(){if(!this.data&&0<this.packedData.length){let t=this.packedData;this._encrypted&&(t=await this._decryptData(t)),this._compressed&&(t=await this._decompressData(t)),this.data=n.a.unpack(t)}return this.data}async _encryptData(t){let e=this.encryptionKey;return new Promise((function(r,n){s.encrypt({key:s.Buffer.from(e),data:s.util.ui8a_to_buffer(t)},(function(t,e){t?n(t):r(s.util.buffer_to_ui8a(e))}))}))}async _decryptData(t){let e=this.encryptionKey;return new Promise((function(r,n){s.decrypt({key:s.Buffer.from(e),data:s.util.ui8a_to_buffer(t)},(function(t,e){t?n(t):r(s.util.buffer_to_ui8a(e))}))}))}async _compressData(t){return i.a.compress(t)}async _decompressData(t){return i.a.uncompress(t)}_generateId(){return"xxxx-xxxx-xxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}async objectOutput(){return this.data||await this.unpack(),{_id:this._id,_created:this._created,_modified:this._modified,_permanent:this._permanent,_encrypted:this._encrypted,_compressed:this._compressed,data:this.data}}async databaseOutput(){return this.packedData&&0!==this.packedData.length||await this.pack(),{_id:this._id,_created:this._created,_modified:this._modified,_permanent:this._permanent,_compressed:this._compressed,_encrypted:this._encrypted,packedData:this.packedData}}}class h{constructor(t,e,r){this._db=t,this._name=e,this._privateDbManager=r,this._metadata={name:e,sizeKB:0,length:0,created:Date.now(),modified:Date.now()}}async init(){var t=await this._privateDbManager.getDatabaseMetadata(this._db.name);t&&t.collections||(t.collections={}),this._name in t.collections?this._metadata=t.collections[this._name]:(this._db.objectStoreNames.contains(this._name)||(console.log(`Collection "${this._name}" does not exist. Creating it.`),await this._createObjectStore()),this._metadata={name:this._name,sizeKB:0,length:0,modified:Date.now()},t.collections[this._name]=this._metadata,await this._privateDbManager.updateDatabaseMetadata(this._db.name,this._metadata))}async _createObjectStore(){var t=this._db.version+1;this._db.close(),this._db=await u.openDatabase(this._db.name,t,t=>{t.objectStoreNames.contains(this._name)||(t.createObjectStore(this._name,{keyPath:"_id"}),console.log(`Collection "${this._name}" created.`))}),this._db=await u.openDatabase(this._db.name,t)}async addDocument(t,e=null){let r=await new c(t,e).databaseOutput();this._db.objectStoreNames.contains(this._name)||(console.log(`Object store "${this._name}" does not exist. Reinitializing.`),await this._createObjectStore()),await u.performTransaction(this._db,this._name,"readwrite",t=>(this._metadata.length+=1,this._metadata.sizeKB+=r.packedData.byteLength/1024,this._metadata.modified=Date.now(),u.add(t,r))),await this._updateMetadata()}async deleteDocument(t=0,e=!1){let r=await u.performTransaction(this._db,this._name,"readonly",e=>u.get(e,t));if(r)await u.performTransaction(this._db,this._name,"readwrite",e=>(--this._metadata.length,this._metadata.sizeKB-=r.packedData.byteLength/1024,this._metadata.modified=Date.now(),u.delete(e,t))),await this._updateMetadata();else if(e)throw new Error(`Document with ID ${t} not found.`)}async addMultipleDocuments(t){return new Promise((e,r)=>{let n=this._db.transaction(this._name,"readwrite"),i=n.objectStore(this._name);t.forEach(async t=>{t=new c(t),i.put(await t.databaseOutput()),--this._metadata.length,this._metadata.sizeKB-=t.packedData.byteLength/1024,this._metadata.modified=Date.now()}),n.oncomplete=()=>e(),n.onerror=()=>r("Failed to insert documents: "+(n.error?n.error.message:"unknown error"))})}async getDocument(t,e=0){this._db.objectStoreNames.contains(this._name)||(console.log(`Object store "${this._name}" does not exist. Reinitializing.`),await this._createObjectStore());var r=await u.performTransaction(this._db,this._name,"readonly",e=>u.get(e,t));return r?c.isEncrypted(r)?new c(r).databaseOutput():new c(r).objectOutput():null}async deleteOlderDocuments(t){let e=1024*t*1024,r=await this._calculateTotalSize(),n=this._db.transaction(this._name,"readwrite").objectStore(this._name);return new Promise((t,i)=>{var s=n.openCursor(null,"next");s.onsuccess=async i=>{(i=i.target.result)&&r>e?(await n.delete(i.key),r-=i.value.packedData.byteLength,i.continue()):t()},s.onerror=t=>i("Cursor failed: "+t.target.error.message)})}async query(t={}){let e=[];return await u.performTransaction(this._db,this._name,"readonly",async r=>{await u.iterateCursor(r,async r=>{if(c.isEncrypted(r)){var n=new c(r).databaseOutput();e.push(n)}else{console.log(r);var i,s=await new c(r).objectOutput();let n=!0;for(i in t)if(s.data[i]!==t[i]){n=!1;break}n&&e.push(s)}})}),Promise.all(e)}onupgradeneeded(t){t.target.result.createObjectStore(this._name,{keyPath:"_id"}).createIndex("modifiedIndex","_modified",{unique:!1})}async getDocumentsSortedByModified(){let t=this._db.transaction(this._name,"readonly").objectStore(this._name).index("modifiedIndex");return new Promise((e,r)=>{let n=[];var i=t.openCursor(null,"prev");i.onsuccess=t=>{(t=t.target.result)?(n.push(t.value),t.continue()):e(n)},i.onerror=t=>r("Cursor failed: "+t.target.error.message)})}async _calculateTotalSize(){let t=this._db.transaction(this._name,"readonly").objectStore(this._name);return new Promise((e,r)=>{let n=0;var i=t.openCursor();i.onsuccess=t=>{(t=t.target.result)?(n+=t.value.packedData.byteLength,t.continue()):e(n)},i.onerror=t=>r("Failed to calculate total size: "+t.target.error.message)})}async _updateMetadata(){var t=await this._privateDbManager.getDatabaseMetadata(this._db.name);t&&t.collections||(t.collections={}),this._name in t.collections&&(t.collections[this._name].sizeKB=this._metadata.sizeKB,t.collections[this._name].length=this._metadata.length,t.collections[this._name].modified=this._metadata.modified),t.totalSizeKB=Object.values(t.collections).reduce((t,e)=>t+e.sizeKB,0),t.modified=Date.now(),await this._privateDbManager.updateDatabaseMetadata(this._db.name,t)}}e={PrivateDatabaseManager:class{constructor(t=1e4){this._db=null,this._dbName="lacertadb-private",this._storeName="database-list",this._metadataCache=new Map,this._syncInterval=t,this._syncTimer=null,this._isDirty=!1}async init(){if(null!==this._db)return!1;try{this._db=await u.openDatabase(this._dbName,1,t=>{t.objectStoreNames.contains(this._storeName)||t.createObjectStore(this._storeName,{keyPath:"name"})}),console.log(`Database "${this._dbName}" initialized with version: `+this._db.version)}catch(t){throw console.error("Failed to initialize database: "+t),new Error("Database initialization failed.")}return this._syncTimer=setInterval(()=>this._syncCacheToDatabase(),this._syncInterval),!0}async deleteDatabaseMetadata(t){try{this._metadataCache.has(t)&&this._metadataCache.delete(t),await u.performTransaction(this._db,this._storeName,"readwrite",e=>u.delete(e,t)),console.log(`Metadata for database "${t}" deleted successfully.`)}catch(e){throw console.error(`Failed to delete metadata for ${t}: `+e),new Error("Metadata deletion failed: "+e.message)}}_validateMetadata(t){return t&&"string"==typeof t.name&&Array.isArray(t.collections)&&t.collections.every(t=>"string"==typeof t.name&&"number"==typeof t.sizeKB&&"number"==typeof t.length)}async updateDatabaseMetadata(t,e){let r=await this.getDatabaseMetadata(t);this._validateMetadata(r)||(r={name:t,collections:{},totalSizeKB:0,modified:0});var n=e.name;n===t?console.warn(`Attempted to add the database itself "${t}" as a collection. Ignored.`):(r.collections[n]?r.collections[n]=a(a(a({},r.collections[n]),e),{},{modified:e.modified||r.collections[n].modified}):r.collections[n]=a(a({},e),{},{modified:Date.now()}),r.totalSizeKB=Object.values(r.collections).reduce((t,e)=>t+e.sizeKB,0),this._metadataCache.set(t,r),this._isDirty=!0)}async getDatabaseMetadata(t){if(this._metadataCache.has(t))return this._metadataCache.get(t);try{var e=await u.performTransaction(this._db,this._storeName,"readonly",e=>u.get(e,t));return e&&this._metadataCache.set(t,e),e||{name:t,collections:{},totalSizeKB:0}}catch(e){throw console.error(`Error while retrieving metadata for ${t}:`,e),new Error("Failed to retrieve metadata: "+e.message)}}async _syncCacheToDatabase(){if(this._isDirty)try{for(let[t,e]of this._metadataCache.entries())await u.performTransaction(this._db,this._storeName,"readwrite",t=>u.add(t,e));this._isDirty=!1}catch(t){console.error("Failed to sync metadata cache to the database:",t)}}async close(){this._syncTimer&&(clearInterval(this._syncTimer),this._syncTimer=null),await this._syncCacheToDatabase(),this._db&&(this._db.close(),this._db=null)}async destroy(){await this.close(),this._metadataCache.clear(),await u.deleteDatabase(this._dbName),console.log("Metadata database deleted successfully.")}},Collection:h,Database:class{constructor(t,e){this._name=t,this._privateDbManager=e,this._collections=new Map,this._db=null}get collectionNames(){return Array.from(this._collections.keys())}async init(){return null===this._db&&(this._db=await u.openDatabase(this._name,1,this._upgradeDatabase.bind(this)),await this._privateDbManager.getDatabaseMetadata(this._name)||await this._privateDbManager.updateDatabaseMetadata(this._name,{collections:[]}),!0)}_upgradeDatabase(t){console.log("Database upgrade triggered for",this._name)}async createCollection(t){if(await this.init(),this._collections.has(t))throw new Error(`Collection ${t} already exists`);var e=this._db.version+1;this._db.close(),await u.openDatabase(this._name,e,e=>{e.objectStoreNames.contains(t)||(e.createObjectStore(t,{keyPath:"_id"}),console.log(`Collection "${t}" created.`))}),this._db=await u.openDatabase(this._name,e),e=new h(this._db,t,this._privateDbManager);return(e=(await e.init(),this._collections.set(t,e),await this._privateDbManager.getDatabaseMetadata(this._name))).collections[t]={name:t,sizeKB:0,length:0},await this._privateDbManager.updateDatabaseMetadata(this._name,e),this.getCollection(t)}async deleteCollection(t){if(await this.init(),!this._collections.has(t))throw new Error(`Collection ${t} does not exist`);this._db.transaction([t],"readwrite").objectStore(t).clear(),this._collections.delete(t);var e=await this._privateDbManager.getDatabaseMetadata(this._name);e.collections=e.collections.filter(e=>e.name!==t),await this._privateDbManager.updateDatabaseMetadata(this._name,e)}async getCollection(t){var e;return this._collections.has(t)||(await(e=new h(this._db,t,this._privateDbManager)).init(),this._collections.set(t,e)),this._collections.get(t)}async deleteDatabase(){await u.deleteDatabase(this._name),await this._privateDbManager.deleteDatabaseMetadata(this._name)}},Document:c},t.exports={LacertaDB:e}}.call(this,r(5)(t))},function(t,e){t.exports=function(t){var e;return t.webpackPolyfill||((e=Object.create(t)).children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1),e}},function(t,e){var r,n;t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}function o(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return(r=setTimeout)(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}var a,u=[],c=!1,h=-1;function f(){c&&a&&(c=!1,a.length?u=a.concat(u):h=-1,u.length)&&l()}function l(){if(!c){for(var t=o(f),e=(c=!0,u.length);e;){for(a=u,u=[];++h<e;)a&&a[h].run();h=-1,e=u.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return(n=clearTimeout)(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function _(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||c||o(l)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=_,t.addListener=_,t.once=_,t.off=_,t.removeListener=_,t.removeAllListeners=_,t.emit=_,t.prependListener=_,t.prependOnceListener=_,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e,r){(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(8),i=r(9),s=r(10);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(t=null===t?new u(e):t).length=e,t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"!=typeof t)return c(this,t,e,r);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var i=t,o=e,c=r;if(o.byteLength,c<0||o.byteLength<c)throw new RangeError("'offset' is out of bounds");if(o.byteLength<c+(n||0))throw new RangeError("'length' is out of bounds");return o=void 0===c&&void 0===n?new Uint8Array(o):void 0===n?new Uint8Array(o,c):new Uint8Array(o,c,n),u.TYPED_ARRAY_SUPPORT?(i=o).__proto__=u.prototype:i=l(i,o),i}if("string"!=typeof e){if(c=t,n=e,u.isBuffer(n))return 0!==(c=a(c,o=0|p(n.length))).length&&n.copy(c,0,0,o),c;if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||(t=>t!=t)(n.length)?a(c,0):l(c,n);if("Buffer"===n.type&&s(n.data))return l(c,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}if(i=t,n=e,t=r,u.isEncoding(t="string"==typeof t&&""!==t?t:"utf8"))return(n=(i=a(i,e=0|_(n,t))).write(n,t))!==e?i.slice(0,n):i;throw new TypeError('"encoding" must be a valid string encoding')}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(h(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e){var r=e.length<0?0:0|p(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(o()<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function _(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var r=(t="string"!=typeof t?""+t:t).length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return C(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function d(t,e,r){var i,s=!1;if((e=void 0===e||e<0?0:e)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":var o=e,a=r,u=this.length;(!a||a<0||u<a)&&(a=u);for(var c="",h=o=!o||o<0?0:o;h<a;++h)c+=(t=>t<16?"0"+t.toString(16):t.toString(16))(this[h]);return c;case"utf8":case"utf-8":return v(this,e,r);case"ascii":u=e;var f=r,l="";f=Math.min(this.length,f);for(var p=u;p<f;++p)l+=String.fromCharCode(127&this[p]);return l;case"latin1":case"binary":o=e;var _=r,d="";_=Math.min(this.length,_);for(var y=o;y<_;++y)d+=String.fromCharCode(this[y]);return d;case"base64":return g=this,i=r,0===(w=e)&&i===g.length?n.fromByteArray(g):n.fromByteArray(g.slice(w,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var g=e,w=r,m=this.slice(g,w),b="",k=0;k<m.length;k+=2)b+=String.fromCharCode(m[k]+256*m[k+1]);return b;default:if(s)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,(r=(r=isNaN(r)?i?0:t.length-1:r)<0?t.length+r:r)>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){var s=1,o=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o/=s=2,a/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i)for(var c=-1,h=r;h<o;h++)if(u(t,h)===u(e,-1===c?0:h-c)){if(h-(c=-1===c?h:c)+1===a)return c*s}else-1!==c&&(h-=h-c),c=-1;else for(h=r=o<r+a?o-a:r;0<=h;h--){for(var f=!0,l=0;l<a;l++)if(u(t,h+l)!==u(e,l)){f=!1;break}if(f)return h}return-1}function m(t,e,r,n){return O((t=>{for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e})(e),t,r,n)}function b(t,e,r,n){return O(((t,e)=>{for(var r,n,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i})(e,t.length-r),t,r,n)}function v(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,u,c=t[i],h=null,f=239<c?4:223<c?3:191<c?2:1;if(i+f<=r)switch(f){case 1:c<128&&(h=c);break;case 2:128==(192&(s=t[i+1]))&&127<(u=(31&c)<<6|63&s)&&(h=u);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&2047<(u=(15&c)<<12|(63&s)<<6|63&o)&&(u<55296||57343<u)&&(h=u);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&65535<(u=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)&&u<1114112&&(h=u)}null===h?(h=65533,f=1):65535<h&&(n.push((h-=65536)>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=f}var l=n,p=l.length;if(p<=k)return String.fromCharCode.apply(String,l);for(var _="",d=0;d<p;)_+=String.fromCharCode.apply(String,l.slice(d,d+=k));return _}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:(()=>{try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}})(),e.kMaxLength=o(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0}),u.alloc=function(t,e,r){return n=null,e=e,r=r,h(t=t),t<=0||void 0===e?a(n,t):"string"==typeof r?a(n,t).fill(e,r):a(n,t).fill(e);var n},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);if(void 0===e)for(i=e=0;i<t.length;++i)e+=t[i].length;for(var r=u.allocUnsafe(e),n=0,i=0;i<t.length;++i){var o=t[i];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},u.byteLength=_,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?v(this,0,t):d.apply(this,arguments)},u.prototype.equals=function(t){if(u.isBuffer(t))return this===t||0===u.compare(this,t);throw new TypeError("Argument must be a Buffer")},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r)&&(t+=" ... "),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),(e=void 0===e?0:e)<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=e)return 0;if(i<=n)return-1;if(r<=e)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(s,o),c=this.slice(n,i),h=t.slice(e,r),f=0;f<a;++f)if(c[f]!==h[f]){s=c[f],o=h[f];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||i<r)&&(r=i),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var s,o,a,u=!1;;)switch(n){case"hex":var c=t,h=e,f=r,l=(h=Number(h)||0,this.length-h);if((!f||l<(f=Number(f)))&&(f=l),(l=c.length)%2!=0)throw new TypeError("Invalid hex string");l/2<f&&(f=l/2);for(var p=0;p<f;++p){var _=parseInt(c.substr(2*p,2),16);if(isNaN(_))return p;this[h+p]=_}return p;case"utf8":case"utf-8":return l=e,a=r,O(U(t,(o=this).length-l),o,l,a);case"ascii":return m(this,t,e,r);case"latin1":case"binary":return m(this,t,e,r);case"base64":return o=this,a=e,s=r,O(C(t),o,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,t,e,r);default:if(u)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),u=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function B(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function S(t,e,r,n,i,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function A(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-r,2);i<s;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-r,4);i<s;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function E(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function T(t,e,r,n,s){return s||E(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function x(t,e,r,n,s){return s||E(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=u.prototype;else for(var n=e-t,i=new u(n,void 0),s=0;s<n;++s)i[s]=this[s+t];return i},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var n=this[t+--e],i=1;0<e&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var n=e,i=1,s=this[t+--n];0<n&&(i*=256);)s+=this[t+--n]*i;return(i*=128)<=s&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){return e||B(t,2,this.length),32768&(e=this[t]|this[t+1]<<8)?4294901760|e:e},u.prototype.readInt16BE=function(t,e){return e||B(t,2,this.length),32768&(e=this[t+1]|this[t]<<8)?4294901760|e:e},u.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||S(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||S(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;0<=--i&&(s*=256);)this[e+i]=t/s&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||S(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||S(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=r-1,s=1,o=0;for(this[e+i]=255&t;0<=--i&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&(t=t<0?255+t+1:t),e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return T(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return T(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return x(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return x(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r=r||0,n||0===n||(n=this.length),e>=t.length&&(e=t.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var i,s=(n=t.length-e<n-r?t.length-e+r:n)-r;if(this===t&&r<e&&e<n)for(i=s-1;0<=i;--i)t[i+e]=this[i+r];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){var i;if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length&&(i=t.charCodeAt(0))<256&&(t=i),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(!(r<=e))if(e>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(t=t||0))for(a=e;a<r;++a)this[a]=t;else for(var s=u.isBuffer(t)?t:U(new u(t,n).toString()),o=s.length,a=0;a<r-e;++a)this[a+e]=s[a%o];return this};var P=/[^+\/0-9A-Za-z-_]/g;function U(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(55295<(r=t.charCodeAt(o))&&r<57344){if(!i){if(56319<r){-1<(e-=3)&&s.push(239,191,189);continue}if(o+1===n){-1<(e-=3)&&s.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(e-=3)&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&s.push(239,191,189);if(i=null,r<128){if(--e<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function C(t){return n.toByteArray((t=>{var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(P,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t})(t))}function O(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(3))},function(t,e,r){e.byteLength=function(t){return 3*((t=c(t))[0]+(t=t[1]))/4-t},e.toByteArray=function(t){var e,r,n=(o=c(t))[0],o=o[1],a=new s(((t,e)=>3*(t+e)/4-e)(n,o)),u=0,h=0<o?n-4:n;for(r=0;r<h;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;return 2===o&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,a[u++]=255&e),1===o&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e),a},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(((t,e,r)=>{for(var i,s=[],o=e;o<r;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push((t=>n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t])(i));return s.join("")})(t,o,a<o+16383?a:o+16383));return 1==i?(e=t[r-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2==i&&(e=(t[r-2]<<8)+t[r-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=o.length;a<u;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function c(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");return e=(t=-1===(t=t.indexOf("="))?e:t)===e?0:4-t%4,[t,e]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,h=-7,f=r?i-1:0,l=r?-1:1;i=t[e+f];for(f+=l,s=i&(1<<-h)-1,i>>=-h,h+=a;0<h;s=256*s+t[e+f],f+=l,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;0<h;o=256*o+t[e+f],f+=l,h-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(i?-1:1);o+=Math.pow(2,n),s-=c}return(i?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,u=8*s-i-1,c=(1<<u)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:s-1,p=n?1:-1;s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(n=Math.pow(2,-o))<1&&(o--,n*=2),2<=(e+=1<=o+h?f/n:f*Math.pow(2,1-h))*n&&(o++,n/=2),c<=o+h?(a=0,o=c):1<=o+h?(a=(e*n-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;t[r+l]=255&a,l+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;0<u;t[r+l]=255&o,l+=p,o/=256,u-=8);t[r+l-p]|=128*s}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){var n=[0,255,65535,16777215,4294967295];function i(t){this.array=t,this.pos=0}i.prototype.readUncompressedLength=function(){for(var t,e,r=0,n=0;n<32&&this.pos<this.array.length;){if(t=this.array[this.pos],this.pos+=1,(e=127&t)<<n>>>n!=e)return-1;if(r|=e<<n,t<128)return r;n+=7}return-1},i.prototype.uncompressToBuffer=function(t){for(var e,r,i,s,o=this.array,a=o.length,u=this.pos,c=0;u<o.length;){if(e=o[u],u+=1,0==(3&e)){if(60<(r=1+(e>>>2))){if(a<=u+3)return!1;i=r-60,r=1+((r=o[u]+(o[u+1]<<8)+(o[u+2]<<16)+(o[u+3]<<24))&n[i]),u+=i}if(a<u+r)return!1;d=l=void 0;for(var h=o,f=u,l=t,p=c,_=r,d=0;d<_;d++)l[p+d]=h[f+d];u+=r}else{switch(3&e){case 1:r=4+(e>>>2&7),s=o[u]+(e>>>5<<8),u+=1;break;case 2:if(a<=u+1)return!1;r=1+(e>>>2),s=o[u]+(o[u+1]<<8),u+=2;break;case 3:if(a<=u+3)return!1;r=1+(e>>>2),s=o[u]+(o[u+1]<<8)+(o[u+2]<<16)+(o[u+3]<<24),u+=4}if(0===s||c<s)return!1;b=y=void 0;for(var y=t,g=c,w=s,m=r,b=0;b<m;b++)y[g+b]=y[g-w+b]}c+=r}return!0},e.SnappyDecompressor=i},function(t,e,r){var n=new Array(15);function i(t,e){return 506832829*t>>>e}function s(t,e){return t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24)}function o(t,e,r){return t[e]===t[r]&&t[e+1]===t[r+1]&&t[e+2]===t[r+2]&&t[e+3]===t[r+3]}function a(t,e,r,n,i){r<=60?(n[i]=r-1<<2,i+=1):r<256?(n[i]=240,n[i+1]=r-1,i+=2):(n[i]=244,n[i+1]=r-1&255,n[i+2]=r-1>>>8,i+=3);for(var s=t,o=e,a=n,u=i,c=r,h=0;h<c;h++)a[u+h]=s[o+h];return i+r}function u(t,e,r,n){return n<12&&r<2048?(t[e]=1+(n-4<<2)+(r>>>8<<5),t[e+1]=255&r,e+2):(t[e]=2+(n-1<<2),t[e+1]=255&r,t[e+2]=r>>>8,e+3)}function c(t,e,r,c,h){for(var f=1;1<<f<=r&&f<=14;)f+=1;for(var l=32- --f,p=(void 0===n[f]&&(n[f]=new Uint16Array(1<<f)),n[f]),_=0;_<p.length;_++)p[_]=0;var d,y,g,w,m,b,v,k,B,S=e+r,A=e,D=e,E=!0;if(15<=r)for(d=S-15,g=i(s(t,e+=1),l);E;){b=32,w=e;do{if(y=g,v=b>>>5,b+=1,w=(e=w)+v,d<e){E=!1;break}}while(g=i(s(t,w),l),m=A+p[y],p[y]=e-A,!o(t,e,m));if(!E)break;h=a(t,D,e-D,c,h);do{for(B=e,k=4;e+k<S&&t[e+k]===t[m+k];)k+=1;if(e+=k,h=((t,e,r,n)=>{for(;68<=n;)e=u(t,e,r,64),n-=64;return 64<n&&(e=u(t,e,r,60),n-=60),u(t,e,r,n)})(c,h,B-m,k),d<=(D=e)){E=!1;break}}while(p[i(s(t,e-1),l)]=e-1-A,m=A+p[B=i(s(t,e),l)],p[B]=e-A,o(t,e,m));if(!E)break;g=i(s(t,e+=1),l)}return D<S?a(t,D,S-D,c,h):h}function h(t){this.array=t}h.prototype.maxCompressedLength=function(){var t=this.array.length;return 32+t+Math.floor(t/6)},h.prototype.compressToBuffer=function(t){for(var e,r=this.array,n=r.length,i=0,s=((t,e,r)=>{for(;e[r]=127&t,0<(t>>>=7)&&(e[r]+=128),r+=1,0<t;);return r})(n,t,s=0);i<n;)s=c(r,i,e=Math.min(n-i,65536),t,s),i+=e;return s},e.SnappyCompressor=h},function(t,e,r){r=r(4).LacertaDB,"undefined"!=typeof window?window.LacertaDB=r:self.LacertaDB=r}]);